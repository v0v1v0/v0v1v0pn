<div class="container">

<table style="width: 100%;"><tr>
<td>filterInputData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Filter Data Rows and Subset Data Columns
</h2>

<h3>Description</h3>

<p>Given a data frame with a column containing receptor sequences, filter data
rows by sequence length and sequence content. Keep all data columns or choose
which columns to keep.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filterInputData(
  data,
  seq_col,
  min_seq_length = NULL,
  drop_matches = NULL,
  subset_cols = NULL,
  count_col = deprecated(),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>A data frame.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seq_col</code></td>
<td>

<p>Specifies the column(s) of <code>data</code> containing
the receptor sequences.
Accepts a character or numeric vector of length 1 or 2,
containing either column names or column indices.
Each column specified will be coerced
to a character vector. Data rows containing a value of <code>NA</code> in any
of the specified columns will be dropped.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_seq_length</code></td>
<td>

<p>Observations whose receptor sequences have fewer than <code>min_seq_length</code>
characters are dropped.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop_matches</code></td>
<td>

<p>Accepts a character string containing a regular expression
(see <code>regex</code>). Checks values in the receptor sequence
column for a pattern match using <code>grep()</code>.
Rows in which a match is found are dropped.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset_cols</code></td>
<td>

<p>Specifies which columns of the AIRR-Seq data are included in the output.
Accepts a character vector of column names
or a numeric vector of column indices.
The default
<code>NULL</code> includes all columns. The receptor sequence column is always
included regardless of this argument's value.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count_col</code></td>
<td>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a>
Does nothing.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>Logical. If <code>TRUE</code>, generates messages about the tasks
performed and their progress, as well as relevant properties of intermediate
outputs. Messages are sent to <code>stderr()</code>.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame.
</p>


<h3>Author(s)</h3>

<p>Brian Neal (<a href="mailto:Brian.Neal@ucsf.edu">Brian.Neal@ucsf.edu</a>)
</p>


<h3>References</h3>

<p>Hai Yang, Jason Cham, Brian Neal, Zenghua Fan, Tao He and Li Zhang. (2023).
NAIR: Network Analysis of Immune Repertoire. <em>Frontiers in Immunology</em>, vol. 14.
<a href="https://www.frontiersin.org/articles/10.3389/fimmu.2023.1181825/full">doi: 10.3389/fimmu.2023.1181825</a>
</p>
<p><a href="https://mlizhangx.github.io/Network-Analysis-for-Repertoire-Sequencing-/index.html">Webpage for the NAIR package</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(42)
raw_data &lt;- simulateToyData()

# Remove sequences shorter than 13 characters,
# as well as sequences containing the subsequence "GGGG".
# Keep variables for clone sequence, clone frequency and sample ID
filterInputData(
  raw_data,
  seq_col = "CloneSeq",
  min_seq_length = 13,
  drop_matches = "GGGG",
  subset_cols =
    c("CloneSeq", "CloneFrequency", "SampleID"),
  verbose = TRUE
)

</code></pre>


</div>