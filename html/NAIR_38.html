<div class="container">

<table style="width: 100%;"><tr>
<td>plotNetworkGraph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Plot the Graph of an Immune Repertoire Network
</h2>

<h3>Description</h3>

<p><img src="../help/figures/lifecycle-deprecated.svg" width="35%" alt="lifecycle-deprecated.svg"></p>
<p>Given the <code>igraph</code> of an immune repertoire network,
generates a plot of the network graph according to the user specifications.
</p>
<p>Deprecated. Replaced by <code>addPlots()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotNetworkGraph(
  igraph,
  plot_title = NULL,
  plot_subtitle = NULL,
  color_nodes_by = NULL,
  color_scheme = "default",
  color_legend = "auto",
  color_title = "auto",
  edge_width = 0.1,
  size_nodes_by = 0.5,
  node_size_limits = NULL,
  size_title = "auto",
  outfile = NULL,
  pdf_width = 12,
  pdf_height = 8
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>igraph</code></td>
<td>

<p>An object of class <code>igraph</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_title</code></td>
<td>

<p>A character string containing the plot title. Passed to
<code>labs()</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_subtitle</code></td>
<td>

<p>A character string containing the plot subtitle. Passed to
<code>labs()</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_nodes_by</code></td>
<td>

<p>A vector whose length matches the number of nodes in the network.
The values are used to encode the color of each node. An argument value of
<code>NULL</code> (the default) leaves the nodes uncolored. Passed to the color
aesthetic mapping of <code>geom_node_point()</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_scheme</code></td>
<td>

<p>A character string specifying the color scale used to color the nodes.
<code>"default"</code> uses default <code>ggplot()</code> colors.
Other options are one of the viridis color scales (e.g., <code>"plasma"</code>,
<code>"A"</code> or other valid inputs to the <code>option</code> argument of
<code>scale_color_viridis()</code>) or
(for discrete variables) a palette
from <code>hcl.pals()</code> (e.g., <code>"RdYlGn"</code>).
Each of the viridis color scales can include the suffix <code>"-1"</code>
to reverse its direction (e.g., <code>"plasma-1"</code> or <code>"A-1"</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_legend</code></td>
<td>

<p>A logical scalar specifying whether to display the color legend in the plot.
The default value of <code>"auto"</code> shows the color legend if <code>color_nodes_by</code>
is a continuous variable or a discrete variable with at most 20 distinct values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_title</code></td>
<td>

<p>A character string (or <code>NULL</code>) specifying the title for the color legend.
Only applicable if  <code>color_nodes_by</code> is a vector. If
<code>color_title = "auto"</code> (the default), the title for the color legend will
be the name of the vector provided to <code>color_nodes_by</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edge_width</code></td>
<td>

<p>A numeric scalar specifying the width of the graph edges in the plot.
Passed to the <code>width</code> argument of
<code>geom_edge_link0()</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size_nodes_by</code></td>
<td>

<p>A numeric scalar specifying the size of the nodes, or a numeric vector with
positive entires that encodes the size of each node (and whose length matches
the number of nodes in the network). Alternatively, an argument value of
<code>NULL</code> uses the default <code>ggraph()</code> size
for all nodes.
Passed to the size aesthetic mapping of
<code>geom_node_point()</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size_title</code></td>
<td>

<p>A character string (or <code>NULL</code>) specifying the title for the size legend.
Only applicable if  <code>size_nodes_by</code> is a vector. If
<code>size_title = "auto"</code> (the default),  the title for the color legend
will be the name of the vector provided to  <code>size_nodes_by</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>node_size_limits</code></td>
<td>

<p>A numeric vector of length 2, specifying the minimum and maximum node size.
Only applicable if <code>size_nodes_by</code> is a vector. If
<code>node_size_limits = NULL</code>, the default size scale will be used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outfile</code></td>
<td>

<p>An optional file path for saving the plot as a pdf. If <code>NULL</code>
(the default), no pdf will be saved.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdf_width</code></td>
<td>

<p>Sets the plot width when writing to pdf. Passed to the <code>width</code> argument
of <code>pdf()</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdf_height</code></td>
<td>

<p>Sets the plot height when writing to pdf. Passed to the <code>height</code> argument
of <code>pdf()</code>.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>ggraph</code> object.
</p>


<h3>Author(s)</h3>

<p>Brian Neal (<a href="mailto:Brian.Neal@ucsf.edu">Brian.Neal@ucsf.edu</a>)
</p>


<h3>References</h3>

<p>Hai Yang, Jason Cham, Brian Neal, Zenghua Fan, Tao He and Li Zhang. (2023).
NAIR: Network Analysis of Immune Repertoire. <em>Frontiers in Immunology</em>, vol. 14.
<a href="https://www.frontiersin.org/articles/10.3389/fimmu.2023.1181825/full">doi: 10.3389/fimmu.2023.1181825</a>
</p>
<p><a href="https://mlizhangx.github.io/Network-Analysis-for-Repertoire-Sequencing-/index.html">Webpage for the NAIR package</a>
</p>
<p><a href="https://mlizhangx.github.io/Network-Analysis-for-Repertoire-Sequencing-/articles/network_visualization.html">Network Visualization article on package website</a>
</p>


<h3>See Also</h3>

<p><code>addPlots()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(42)
toy_data &lt;- simulateToyData()

# Generate network for data
net &lt;- buildNet(toy_data, "CloneSeq")

# Plot network graph
net_plot &lt;- plotNetworkGraph(
  net$igraph,
  color_nodes_by =
    net$node_data$SampleID,
  color_title = NULL,
  size_nodes_by =
    net$node_data$CloneCount,
  size_title = "Clone Count",
  node_size_limits = c(0.5, 1.5))

print(net_plot)

</code></pre>


</div>