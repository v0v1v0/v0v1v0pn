<div class="container">

<table style="width: 100%;"><tr>
<td>sim.cor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate a dataset with correlated measures</h2>

<h3>Description</h3>

<p>Simulate a dataset with correlated measures (normal simulation with e.g, rnorm() usually
only gives small randomly distributed correlations between variables). This is a quick
and unsophisticated method, but should be able to provide a dataset with slightly more
realistic structure than simple rnorm() type functions. Varying the last three parameters
gives some control on the way the data is generated. It starts with a seed random variable,
then creates 'k' random variables with an expected correlation of r=genr() with that seed 
variable. Then after this, one of the variables in the set (including the seed) is randomly
selected to run through the same process of generating 'k' new variables; this is repeated
until columns are full up. 'mix.order' then randomizes the column order destroying the
relationship between column number and correlation structure, although in some cases,
such relationships might be desired as representative of some real life datasets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim.cor(
  nrow = 100,
  ncol = 100,
  genx = rnorm,
  genr = runif,
  k = 3,
  mix.order = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nrow</code></td>
<td>
<p>integer, number of rows to simulate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>integer, number of columns to simulate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>genx</code></td>
<td>
<p>the generating function for data, e.g rnorm(), runif(), etc</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>genr</code></td>
<td>
<p>the generating function for desired correlation, e.g, runif()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>number of steps generating from the same seed before choosing a new seed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix.order</code></td>
<td>
<p>whether to randomize the column order after simulating</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Nicholas Cooper
</p>


<h3>See Also</h3>

<p><code>cor.with</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">corDat &lt;- sim.cor(200,5)
prv(corDat) # preview of simulated normal data with r uniformly varying
cor(corDat) # correlation matrix
corDat &lt;- sim.cor(500,4,genx=runif,genr=function(x) { 0.5 },mix.order=FALSE)
prv(corDat) # preview of simulated uniform data with r fixed at 0.5
cor(corDat) # correlation matrix
</code></pre>


</div>