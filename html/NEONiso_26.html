<div class="container">

<table style="width: 100%;"><tr>
<td>manage_local_EC_archive</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>manage_local_EC_archive</h2>

<h3>Description</h3>

<p>Utility function to help retrieve new EC data and/or prune duplicates,
as NEON provisions new data or re-provisions data for an existing site
and month.
</p>


<h3>Usage</h3>

<pre><code class="language-R">manage_local_EC_archive(
  file_dir,
  get = TRUE,
  unzip_files = TRUE,
  trim = FALSE,
  dry_run = TRUE,
  sites = "all",
  release = "RELEASE-2023"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file_dir</code></td>
<td>
<p>Specify the root directory where the local EC store is kept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>get</code></td>
<td>
<p>Pull down data from NEON API that does not exist locally?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unzip_files</code></td>
<td>
<p>NEON gzips the hdf5 files, should we unzip any gzipped
files within file_dir? (Searches recursively)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>
<p>Search through local holdings, and remove older file where
there are duplicates?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dry_run</code></td>
<td>
<p>List files identified as duplicates, but do not actually
delete them? Default true to prevent unintended data loss.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sites</code></td>
<td>
<p>Which sites to retrieve data from? Default will be all sites
with available data, but can specify a single site or a vector
here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>release</code></td>
<td>
<p>Download data corresponding to a specific release? Defaults
to "RELEASE-2023." To download all data, including provisional
data, set to NULL.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns nothing to the environment, but will download new NEON HDF5
files for selected sites (if <code>get = TRUE</code>), unzip them in the local
file directory (if <code>unzip_files = TRUE</code>), and identify and remove
suspected duplicate files (if <code>trim = TRUE</code> and <code>dry_run = FALSE</code>).
</p>


<h3>Author(s)</h3>

<p>Rich Fiorella <a href="mailto:rfiorella@lanl.gov">rfiorella@lanl.gov</a>
</p>


</div>