<div class="container">

<table style="width: 100%;"><tr>
<td>NMAoutlier.measures</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Outlier and influential detection measures in network meta-analysis.</h2>

<h3>Description</h3>

<p>This function calculates several (simple or/and deletion) measures
for detection of outliers and influential studies in network
meta-analysis.
</p>
<p>Outlier and influential detection measures are: </p>
 <ul>
<li>
<p>Simple outlier and influential measures for each study (Raw
residuals, Standardized residuals, Studentized residuals,
Mahalanobis distance, leverage).  </p>
</li>
<li>
<p> Outlier and influential
deletion measures for each study (Shift the mean) (Raw deleted
residuals, Standardized deleted residuals, Studentized deleted
residuals, Cook distance between the treatment estimates for study
j and treatment estimates when study j is removed; Ratio of
determinants of variance-covariance matrix of treatment estimates
for study j to treatment estimates when study j is removed; weight
leave one out;leverage leave one out; heterogeneity estimator leave
one out; R statistic for heterogeneity; R statistic for Q
(<code>Qtotal</code>), R statistic for heterogeneity Q (<code>Qhet</code>), R
statistic for Qinconsistency (<code>Qinc</code>), DFbetas.)  </p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">NMAoutlier.measures(
  TE,
  seTE,
  treat1,
  treat2,
  studlab,
  data = NULL,
  sm,
  reference = "",
  measure = "simple",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>TE</code></td>
<td>
<p>Estimate of treatment effect, i.e. difference between
first and second treatment (e.g. log odds ratio, mean difference,
or log hazard ratio).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seTE</code></td>
<td>
<p>Standard error of treatment estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat1</code></td>
<td>
<p>Label/Number for first treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat2</code></td>
<td>
<p>Label/Number for second treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>studlab</code></td>
<td>
<p>Study labels (important when multi arm studies are
included).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame containing the study information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sm</code></td>
<td>
<p>A character string indicating underlying summary measure,
e.g., <code>"RD"</code>, <code>"RR"</code>, <code>"OR"</code>, <code>"ASD"</code>,
<code>"HR"</code>, <code>"MD"</code>, <code>"SMD"</code>, or <code>"ROM"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference</code></td>
<td>
<p>Reference treatment group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>
<p>Outlier and influential detection measures, simple
measures (default: "simple") or outlier and influential detection
measures considered study deletion (measure = "deletion").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed on to
<code>netmeta</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Outlier and influential detection measures (simple or deletion) for network meta-analysis.
Network meta-analysis from graph-theory [Rücker, 2012] is fitted
with (<code>netmeta</code> function) of R package <b>netmeta</b> [Rücker et al., 2015].
</p>
<p>A description of the outlier and influential detection measures in the context of network meta-analysis
can be found in Petropoulou (2020).
</p>
<p>Let <em>n</em> be the number of treatments in a network and let
<em>m</em> be the number of pairwise treatment comparisons.  If there
are only two-arm studies, <em>m</em> is the number of studies. Let
<code>TE</code> and <code>seTE</code> be the vectors of observed effects and their standard
errors. Comparisons belonging to multi-arm studies are identified
by identical study labels (argument <code>studlab</code>).
</p>
<p>This function calculates outlier and influential detection measures for each study.
Simple outlier and influential measures (<code>measure</code> = "simple") are:
Raw residuals, Standardized residuals, Studentized residuals, Mahalanobis distance
and leverage for each study.
For deletion outlier and influential measures (<code>measure</code> = "deletion"):
Standardized deleted residual; Studentized deleted residual; Cook distance between the treatment estimates for study j
and treatment estimates when study j is removed;
Ratio of determinants of variance-covariance matrix of treatment estimates for study j to treatment estimates when study j is removed;
Weight leave one out;leverage leave one out; heterogeneity estimator leave one out;
R statistic for heterogeneity;  R statistis for estimates; R statistic for Q (<code>Qtotal</code>),  R statistic for  heterogeneity Q
(<code>Qhet</code>), R statistic for Qinconsistency (<code>Qinc</code>), DFbetas.
</p>


<h3>Value</h3>

<p>An object of class <code>NMAoutlier.measures</code>;
with a list containing the following components when choosing simple measures:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>Matrix containing the data <code>"TE"</code>, <code>"seTE"</code>, <code>"studlab"</code>, <code>"treat1"</code>, <code>"treat2"</code> as defined above.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eraw</code></td>
<td>
<p>Raw residual for each study included in the network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estand</code></td>
<td>
<p>Standardized residual for each study included in the network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estud</code></td>
<td>
<p>Studentized residual for each study included in the network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Mah</code></td>
<td>
<p>Mahalanobis distance for each pairwise comparison.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Mah.distance</code></td>
<td>
<p>Mahalanobis distance for each study included in the network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leverage</code></td>
<td>
<p>Leverage for each study included in the network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>
<p>type of measure used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>Function call</p>
</td>
</tr>
</table>
<p>a list containing the following components,when choosing deletion measures:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>Matrix containing the data <code>"TE"</code>, <code>"seTE"</code>, <code>"studlab"</code>, <code>"treat1"</code>, <code>"treat2"</code> as defined above.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eraw.deleted</code></td>
<td>
<p>Raw deleted residual for each study included in the network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estand.deleted</code></td>
<td>
<p>Standardized deleted residual for each study included in the network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estud.deleted </code></td>
<td>
<p>Studentized deleted residual for each study included in the network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Cooks.distance</code></td>
<td>
<p>Cook distance between the treatment estimates for study j and treatment estimates when study j is removed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Covratio</code></td>
<td>
<p>Ratio of determinants of variance-covariance matrix of treatment estimates for study j to treatment estimates when study j is removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w.leaveoneout</code></td>
<td>
<p>Weight leave one out.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>H.leaveoneout</code></td>
<td>
<p>Leverage leave one out.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heterog.leaveoneout</code></td>
<td>
<p>Heterogeneity estimator leave one out.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rheterogeneity</code></td>
<td>
<p>R statistic for heterogeneity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Restimates</code></td>
<td>
<p>R statistis for estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RQtotal</code></td>
<td>
<p>R statistic for Q (<code>Qtotal</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RQhet</code></td>
<td>
<p>R statistic for  heterogeneity Q (<code>Qhet</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RQinc</code></td>
<td>
<p>R statistic for Qinconsistency (<code>Qinc</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DFbetas</code></td>
<td>
<p>DFbetas.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>
<p>type of measure used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>Function call</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Maria Petropoulou &lt;petropoulou@imbi.uni-freiburg.de&gt;
</p>


<h3>References</h3>

<p>Rücker G (2012):
Network meta-analysis, electrical networks and graph theory.
<em>Research Synthesis Methods</em>,
<b>3</b>, 312–24
</p>
<p>Rücker G, Schwarzer G (2015):
Ranking treatments in frequentist network meta-analysis works
without resampling methods.
<em>BMC Medical Research Methodology</em>,
<b>15</b>, 58
</p>
<p>Petropoulou M (2020):
Exploring methodological challenges in network meta-analysis models and
developing methodology for outlier detection.
<em>PhD dissertation</em>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(smokingcessation, package = "netmeta")
smokingcessation$id &lt;- 1:nrow(smokingcessation)

study912 &lt;- subset(smokingcessation, id %in% 9:12)
p1 &lt;- netmeta::pairwise(list(treat1, treat2, treat3),
                        list(event1, event2, event3),
                        list(n1, n2, n3),
                        data = study912,
                        sm = "OR")


# Outlier and influential detection measures for studies 9, 10, 11, 12
meas &lt;- NMAoutlier.measures(p1)

# Standardized residual for each study included in the network
meas$estand

## Not run: 
# Outlier and influential deletion measures for studies 9, 10, 11, 12.
delete &lt;- NMAoutlier.measures(p1, measure = "deletion")

# Standardized deleted residual for studies 9, 10, 11, 12.
delete$estand.deleted

data(smokingcessation, package = "netmeta")

# Transform data from arm-based to contrast-based format
# We use 'sm' argument for odds ratios.
# We use function pairwise from netmeta package
#
p1 &lt;- netmeta::pairwise(list(treat1, treat2, treat3),
                        list(event1, event2, event3),
                        list(n1, n2, n3),
                        data = smokingcessation,
                        sm = "OR")

# Outlier and influential detection measures for each study in the network
meas &lt;- NMAoutlier.measures(p1, measure = "simple")

# Mahalanobis distance for each study included in the network
meas$Mah

## End(Not run)

</code></pre>


</div>