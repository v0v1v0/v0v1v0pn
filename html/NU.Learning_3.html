<div class="container">

<table style="width: 100%;"><tr>
<td>ivadj</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Instrumental Variable LAO Fitting and Smoothing</h2>

<h3>Description</h3>

<p>For a given number of patient clusters in baseline X-covariate space and a
specified Y-outcome variable, smooth the distribution of Local Average Outcomes (LAOs)
plotted versus Within-Cluster Propensity-like Scores: the Treatment Selection Fraction
or the Relative Exposure Level.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  ivadj(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An output object from ltdagg() or lrcagg() using K Clusters in X-covariate space.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Multiple invocations of ivadj(ltdagg()) or ivadj(lrgagg()) using varying numbers of
clusters, K, can be made. Each invocation of ivadj() displays a linear lm() fit and a
smooth.spline() fit to the scatter of LAO estimates plotted versus their within-cluster
propensity-like score estimates.
</p>


<h3>Value</h3>

<p> An output list object of class ivadj:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>hclobj</code></td>
<td>
<p>Name of clustering object output by NUcluster().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dframe</code></td>
<td>
<p>Name of data.frame containing X, trtm &amp; Y variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trtm</code></td>
<td>
<p>Name of the numeric treatment variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yvar</code></td>
<td>
<p>Name of the numeric outcome Y variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>Number of Clusters Requested.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>actclust</code></td>
<td>
<p>Number of Clusters actually produced.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Bob Obenchain &lt;wizbob@att.net&gt;</p>


<h3>References</h3>

<p>McClellan M, McNeil BJ, Newhouse JP. (1994) Does More Intensive Treatment of
Myocardial Infarction in the Elderly Reduce Mortality?: Analysis Using Instrumental
Variables. <em>JAMA</em> <b>272</b>: 859-866.
</p>
<p>Obenchain RL. (2010) Local Control Approach using JMP. Chapter 7 of
<b>Analysis of Observational Health Care Data using SAS</b>, <em>Cary, NC:SAS Press</em>,
pages 151-192.
</p>
<p>Obenchain RL. (2023) <b>NU.Learning_in_R.pdf</b> http://localcontrolstatistics.org 
</p>
<p>Rosenbaum PR, Rubin RB. (1983) The Central Role of the Propensity Score
in Observational Studies for Causal Effects. <em>Biometrika</em> <b>70</b>:
41-55.
</p>


<h3>See Also</h3>

<p><code>ltdagg</code>, <code>lrcagg</code> and <code>NUcompare</code>.</p>


<h3>Examples</h3>

<pre><code class="language-R">  
  # Running takes about 7 seconds...
  data(pci15k)
  xvars = c("stent", "height", "female", "diabetic", "acutemi", "ejfract", "ves1proc")
  hclobj = NUcluster(pci15k, xvars)
  NU.env = NUsetup(hclobj, pci15k, thin, surv6mo)
  surv050 = ltdagg(50, NU.env)
  iv050 = ivadj(surv050)
  iv050
  plot(iv050)
  
</code></pre>


</div>