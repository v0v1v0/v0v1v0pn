<div class="container">

<table style="width: 100%;"><tr>
<td>approxB</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Internal functions and generics for <code>mmsbm</code> package</h2>

<h3>Description</h3>

<p>These are various utilities and generic methods used by 
the main package function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">approxB(y, d_id, pi_mat, directed = TRUE)

getZ(pi_mat)

alphaLBound(par, tot_nodes, c_t, x_t, s_mat, t_id, var_beta, mu_beta)

alphaGrad(par, tot_nodes, c_t, x_t, s_mat, t_id, var_beta, mu_beta)

.cbind.fill(...)

.scaleVars(x, keep_const = TRUE)

.transf_muvar(orig, is_var, is_array, des.mat, nblock = NULL, nstate = NULL)

.bar.legend(colPalette, range)

.mpower(mat, p)

.findPerm(block_list, target_mat = NULL, use_perms = TRUE)

.transf(mat)

.compute.alpha(X, beta)

.vcovBeta(
  all_phi,
  beta_coef,
  n.sim,
  n.blk,
  n.hmm,
  n.nodes,
  n.periods,
  mu.beta,
  var.beta,
  est_kappa,
  t_id_n,
  X
)

.e.pi(alpha_list, kappa, C_mat = NULL)

.initPi(
  soc_mats,
  dyads,
  edges,
  nodes_pp,
  dyads_pp,
  n.blocks,
  periods,
  directed,
  ctrl
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y, d_id, pi_mat, directed</code></td>
<td>
<p>Internal arguments for blockmodel approximation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par</code></td>
<td>
<p>Vector of parameter values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tot_nodes</code></td>
<td>
<p>Integer vector; total number of nodes each node interacts with.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c_t</code></td>
<td>
<p>Integer matrix; samples from Poisson-Binomial counts of a node instantiating a group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_t</code></td>
<td>
<p>Numeric matrix; transposed monadic design matrices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s_mat</code></td>
<td>
<p>Integer matrix; Samples of HMM states by time period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_id</code></td>
<td>
<p>Integer vector; for each node, what time-period is it observed in? zero-indexed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu_beta, var_beta</code></td>
<td>
<p>Numeric arrays; prior mean and variances of monadic coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Numeric vectors; vectors of potentially different length to be cbind-ed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, keep_const</code></td>
<td>
<p>Internal arguments for matrix scaling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orig</code></td>
<td>
<p>Object to be transformed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is_var</code></td>
<td>
<p>Boolean. Is the object to be transformed a variance term?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is_array</code></td>
<td>
<p>Boolean. Is the object to be transformed an array?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>des.mat</code></td>
<td>
<p>Numeric matrix. Design matrix corresponding to transformed object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nblock</code></td>
<td>
<p>Number of groups in model, defaults to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstate</code></td>
<td>
<p>Number of hidden Markov states in model, defaults to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colPalette</code></td>
<td>
<p>A function produced by <code>colorRamp</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p>The range of values to label the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>
<p>Numeric matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Numeric scalar; power to raise matrix to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block_list</code></td>
<td>
<p>List of matrices; each element is a square, numeric matrix 
that defines a blockmodel,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target_mat</code></td>
<td>
<p>Numeric matrix; reference blockmodel that those in block_list should 
be aligned to. Optional, defaults to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_perms</code></td>
<td>
<p>Boolean; should all row/column permutations be explored when
realigning matrices? defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Numeric matrix; design matrix of monadic predictors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>Numeric array; array of coefficients associated with monadic predictors. 
It of dimensions Nr. Predictors by Nr. of Blocks by Nr. of HMM states.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all_phi, beta_coef, n.sim, n.blk, n.hmm, n.nodes, n.periods, mu.beta, var.beta, est_kappa, t_id_n, </code></td>
<td>
<p>Additional internal arguments for covariance estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_list</code></td>
<td>
<p>List of mixed-membership parameter matrices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kappa</code></td>
<td>
<p>Numeric matrix; matrix of marginal HMM state probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>C_mat</code></td>
<td>
<p>Numeric matrix; matrix of posterior counts of block instantiations per node.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>soc_mats, dyads, edges, nodes_pp, dyads_pp, n.blocks, periods, ctrl</code></td>
<td>
<p>Internal arguments for MM computation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions are meant for internal use only.
</p>


<h3>Value</h3>

<p>See individual return section for each function:
</p>

<dl>
<dt>.cbind.fill</dt>
<dd>
<p>Matrix of <code>cbind</code>'ed elements in <code>...</code>, with missing values in each vector filled with <code>NA</code>.</p>
</dd>
<dt>.mpower</dt>
<dd>
<p>Matrix; the result of raising <code>mat</code> to the <code>p</code> power.</p>
</dd>
<dt>.findPerm</dt>
<dd>
<p>List of permuted blockmodel matrices.</p>
</dd>
<dt>.transf</dt>
<dd>
<p>Matrix with transformed mixed-membership vectors along its rows, s.t. no element is equal to 0.0 or 1.0.</p>
</dd>
<dt>.compute.alpha</dt>
<dd>
<p>List of predicted alpha matrices, one element per HMM state.</p>
</dd>
<dt>.e.pi</dt>
<dd>
<p>Matrix of predicted mixed-membership vectors along its rows, with expectation computed over marginal 
distribution over HMM states for each time period.</p>
</dd>
<dt>.missing</dt>
<dd>
<p>Transformed data.frame with missing values list-wise deleted, or expanded
with missing indicator variables.</p>
</dd>
<dt>.createSocioB</dt>
<dd>
<p>List of sociomatrices.</p>
</dd>
<dt>.vertboot2</dt>
<dd>
<p>List of bootstrapped sociomatrices.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Santiago Olivella (olivella@unc.edu), Adeline Lo (aylo@wisc.edu), Tyler Pratt (tyler.pratt@yale.edu), Kosuke Imai (imai@harvard.edu)
</p>


</div>