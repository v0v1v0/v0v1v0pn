<div class="container">

<table style="width: 100%;"><tr>
<td>IVselect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Selecting instrument variables using group lasso and B-splines in naivereg</h2>

<h3>Description</h3>

<p>This shows which IVs are selected in the naivereg function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">IVselect(
  z,
  x,
  max.degree = 10,
  criterion = c("BIC", "AIC", "GCV", "AICc", "EBIC"),
  df.method = c("default", "active"),
  penalty = c("grLasso", "grMCP", "grSCAD", "gel", "cMCP"),
  endogenous.index = c(),
  IV.intercept = FALSE,
  family = c("gaussian", "binomial", "poisson")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>The instrument variables matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The design matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.degree</code></td>
<td>
<p>The upper limit value of degree of B-splines when using BIC/AIC to choose the tuning parameters, default is BIC.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>The criterion by which to select the regularization parameter. One of "AIC", "BIC", "GCV", "AICc","EBIC", default is "BIC".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df.method</code></td>
<td>
<p>How should effective model parameters be calculated? One of: "active", which counts the number of nonzero coefficients; or "default", which uses the calculated df returned by grpreg, default is "default".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penalty</code></td>
<td>
<p>The penalty to be applied to the model. For group selection, one of grLasso, grMCP, or grSCAD. For bi-level selection, one of gel or cMCP. Default is " grLasso".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endogenous.index</code></td>
<td>
<p>Specify which variables in design matrix are endogenous variables, the variable corresponds to the value 1 is endogenous variables, the variable corresponds to the value 0 is exogenous variable, default is all endogenous variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IV.intercept</code></td>
<td>
<p>Intercept of instrument variables, default is “FALSE”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>Either "gaussian" or "binomial", depending on the response, default is "gaussian".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See naivereg.
</p>


<h3>Value</h3>

<p>An object of type <code>IVselect</code> which is a list with the following
components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>degree</code></td>
<td>
<p>Degree of B-splines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>The criterion by which to select the regularization parameter. One of "AIC", "BIC", "GCV", "AICc", "EBIC", default is "BIC".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind</code></td>
<td>
<p>The index of selected instrument variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind.b</code></td>
<td>
<p>The index of selected instrument variables after B-splines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IVselect</code></td>
<td>
<p>The instrument variables after B-splines.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Qingliang Fan, KongYu He, Wei Zhong
</p>


<h3>References</h3>

<p>Q. Fan and W. Zhong (2018), “Nonparametric Additive Instrumental Variable Estimator: A Group Shrinkage Estimation Perspective,” Journal of Business &amp; Economic Statistics, doi: 10.1080/07350015.2016.1180991.
</p>
<p>Caner, M. and Q. Fan (2015), Hybrid GEL Estimators: Instrument Selection with Adaptive Lasso, Journal of Econometrics, 187, 256–274.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#IV selecting with group Lasso an B-splines
library(naivereg)
data("naivedata")
x=naivedata[,1]
y=naivedata[,2]
z=naivedata[,3:22]
IV = IVselect(z,x)
IV$IVselect	#show the IV selected after B-splines
</code></pre>


</div>