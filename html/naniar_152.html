<div class="container">

<table style="width: 100%;"><tr>
<td>shadow_long</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reshape shadow data into a long format</h2>

<h3>Description</h3>

<p>Once data is in <code>nabular</code> form, where the shadow is bound to the data, it
can be useful to reshape it into a long format with the shadow columns
in a separate grouping - so you have <code>variable</code>, <code>value</code>, and
<code>variable_NA</code> and <code>value_NA</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">shadow_long(shadow_data, ..., fn_value_transform = NULL, only_main_vars = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>shadow_data</code></td>
<td>
<p>a data.frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>bare name of variables that you want to focus on</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn_value_transform</code></td>
<td>
<p>function to transform the "value" column. Default
is NULL, which defaults to <code>as.character</code>. Be aware that <code>as.numeric</code> may
fail for some instances if it cannot coerce the value into numeric. See
the examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>only_main_vars</code></td>
<td>
<p>logical - do you want to filter down to main variables?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data in long format, with columns <code>variable</code>, <code>value</code>, <code>variable_NA</code>, and <code>value_NA</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
aq_shadow &lt;- nabular(airquality)

shadow_long(aq_shadow)

# then filter only on Ozone
shadow_long(aq_shadow, Ozone)

shadow_long(aq_shadow, Ozone, Solar.R)

# ensure `value` is numeric
shadow_long(aq_shadow, fn_value_transform = as.numeric)
shadow_long(aq_shadow, Ozone, Solar.R, fn_value_transform = as.numeric)


</code></pre>


</div>