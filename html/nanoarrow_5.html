<div class="container">

<table style="width: 100%;"><tr>
<td>as_nanoarrow_array_stream</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert an object to a nanoarrow array_stream</h2>

<h3>Description</h3>

<p>In nanoarrow, an 'array stream' corresponds to the <code style="white-space: pre;">⁠struct ArrowArrayStream⁠</code>
as defined in the Arrow C Stream interface. This object is used to represent
a stream of arrays with a common
schema. This is similar to an
arrow::RecordBatchReader except it can be used to represent a stream of
any type (not just record batches). Note that a stream of record batches
and a stream of non-nullable struct arrays are represented identically.
Also note that array streams are mutable objects and are passed by
reference and not by value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_nanoarrow_array_stream(x, ..., schema = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object to convert to a array_stream</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed to S3 methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>schema</code></td>
<td>
<p>An optional schema used to enforce conversion to a particular
type. Defaults to <code>infer_nanoarrow_schema()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class 'nanoarrow_array_stream'
</p>


<h3>Examples</h3>

<pre><code class="language-R">(stream &lt;- as_nanoarrow_array_stream(data.frame(x = 1:5)))
stream$get_schema()
stream$get_next()

# The last batch is returned as NULL
stream$get_next()

# Release the stream
stream$release()

</code></pre>


</div>