<div class="container">

<table style="width: 100%;"><tr>
<td>na_vctrs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Vctrs extension type</h2>

<h3>Description</h3>

<p>The Arrow format provides a rich type system that can handle most R
vector types; however, many R vector types do not roundtrip perfectly
through Arrow memory. The vctrs extension type uses <code>vctrs::vec_data()</code>,
<code>vctrs::vec_restore()</code>, and <code>vctrs::vec_ptype()</code> in calls to
<code>as_nanoarrow_array()</code> and <code>convert_array()</code> to ensure roundtrip fidelity.
</p>


<h3>Usage</h3>

<pre><code class="language-R">na_vctrs(ptype, storage_type = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ptype</code></td>
<td>
<p>A vctrs prototype as returned by <code>vctrs::vec_ptype()</code>.
The prototype can be of arbitrary size, but a zero-size vector
is sufficient here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>storage_type</code></td>
<td>
<p>For <code>na_extension()</code>, the underlying value type.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A nanoarrow_schema.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
vctr &lt;- as.POSIXlt("2000-01-02 03:45", tz = "UTC")
array &lt;- as_nanoarrow_array(vctr, schema = na_vctrs(vctr))
infer_nanoarrow_ptype(array)
convert_array(array)

</code></pre>


</div>