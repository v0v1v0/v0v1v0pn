<div class="container">

<table style="width: 100%;"><tr>
<td>process_qs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Process the desired sample sizes for <code>optimize_controls()</code>
</h2>

<h3>Description</h3>

<p>Processes the inputs to <code>optimize_controls()</code> to formulate sample size constraints.
</p>


<h3>Usage</h3>

<pre><code class="language-R">process_qs(ratio, q_s, n_s, treated, k, group, st_vals, stratios)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ratio</code></td>
<td>
<p>a numeric or vector specifying the desired ratio of controls to 'treated' in
each stratum. If there is one control group and all treated units should be included,
this can be a numeric. Otherwise, this should be
a vector with one entry per treatment group, in the same order as the levels of
<code>z</code>, including the treated level. If <code>NULL</code>, <code>q_s</code> should be specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q_s</code></td>
<td>
<p>a named vector or matrix indicating how many units are to be selected from each stratum.
If there is one control group and all treated units are desired, this can be a vector; otherwise,
this should have one row per treatment group, where the order of the rows matches the order of
the levels of <code>z</code>, including the treated level.
If <code>NULL</code>, <code>ratio</code> should be specified. If both are specified, <code>q_s</code> will take priority.
Typically, if the desired ratio is not feasible for every stratum, <code>q_s</code> should be generated
using <code>generate_qs()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treated</code></td>
<td>
<p>which treatment value should be considered the treated units. This
must be one of the values of <code>z</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix of sample sizes for each treatment and stratum.
</p>


</div>