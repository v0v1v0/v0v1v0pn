<div class="container">

<table style="width: 100%;"><tr>
<td>setup</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Initialize N-body simulation</h2>

<h3>Description</h3>

<p>Routines to generate the structured lists of initial conditions and simulation parameters required to run an N-body simulation with <code>run.simulation</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">setup()

setup.halley(
  t.max = NULL,
  nperiods = 1,
  dt.out = 1e+07,
  e = 0.96714,
  s = 2.667928e+12,
  ...
)

setup.sunearth(t.max = 31557600, dt.out = 86400 * 7, ...)

setup.ellipse(t.max = NULL, nperiods = 1, e = 0.9, s = 1, f = 0.5, ...)

setup.periodic.3body(
  v1 = 0.347112813567242,
  v2 = 0.532726851767674,
  t.max = 6.325,
  m3 = 1,
  ...
)

setup.pythagoras(t.max = 68, integrator = "yoshida6", eta = 0.002, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>t.max</code></td>
<td>
<p>final simulation time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nperiods</code></td>
<td>
<p>number of orbital periods to be computed; ignored if <code>t.max</code> is specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dt.out</code></td>
<td>
<p>time step for simulation output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e</code></td>
<td>
<p>eccentricity in setup.ellipse()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>semi-major axis in setup.ellipse()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other simulation parameters used by <code>run.simulation</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>mass-ratio in setup.ellipse()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v1</code></td>
<td>
<p>first velocity parameter in setup.3body.periodic()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v2</code></td>
<td>
<p>second velocity parameter in setup.3body.periodic()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m3</code></td>
<td>
<p>mass of third body in setup.3body.periodic()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>integrator</code></td>
<td>
<p>integrator used for N-body simulation, see <code>run.simulation</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eta</code></td>
<td>
<p>accuracy parameter of adaptive time step, see <code>run.simulation</code> for details.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Calling <code>setup()</code> is identical to calling setup.halley()
</p>
<p><code>setup.halley()</code> sets up a 2-body simulation of Halley's Comet around the Sun.
</p>
<p><code>setup.sunearth()</code> sets up a simple 2-body simulation of the Earth around the Sun, using only approximate orbital specifications.
</p>
<p><code>setup.ellipse()</code> sets up an elliptical Keplerian orbit in natural units
</p>
<p><code>setup.periodic.3body()</code> can be used to set up a planar zero angular momentum stable 3-body problem with two unit masses and a third mass m3 (maybe equal of different from unity). Such situations can be parameterized with two parameters v1 and v2, following the publications found at https://arxiv.org/abs/1709.04775 and https://arxiv.org/abs/1705.00527.<br>
The default is the famous figure-of-eight, but try, for example, setup.3body.periodic(0.2034916865234370, 0.5181128588867190, 32.850, dt.out=0.02), setup.3body.periodic(0.2009656237, 0.2431076328, 19.0134164290, 0.5, dt.out=0.01) or setup.3body.periodic(0.991198122, 0.711947212, 17.650780784, 4, eta=0.005, dt.out=0.002).<br><br></p>
<p><code>setup.pythagoras()</code> sets up the Pythagorean three-body problem consisting of three unit masses placed at the vertices of a right triangle with side lengths 3, 4 and 5. The masses are initially at rest and the gravitational constant is unity.
</p>


<h3>Author(s)</h3>

<p>Danail Obreschkow
</p>


<h3>Examples</h3>

<pre><code class="language-R">sim = setup.halley()
sim = run.simulation(sim)
plot(sim)

</code></pre>


</div>