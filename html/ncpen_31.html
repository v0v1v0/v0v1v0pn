<div class="container">

<table style="width: 100%;"><tr>
<td>to.ncpen.x.mat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a <code>data.frame</code> to a <code>ncpen</code> usable <code>matrix</code>.</h2>

<h3>Description</h3>

<p>This automates the processes of <code>to.indicators</code> and <code>interact.data</code>.
First, it converts categorical variables to a series of indicators.
All other numerical and logical variables are preserved.
Then, if <code>interact.all == TRUE</code>, all the variables are interacted.
</p>


<h3>Usage</h3>

<pre><code class="language-R">to.ncpen.x.mat(df, base = NULL, interact.all = FALSE,
  base.cols = NULL, exclude.pair = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a <code>data.frame</code> which includes numerical, logical and categorical columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>a base category removed from the indicator variables. This <code>base</code> will work as the
base case for all the categorical variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interact.all</code></td>
<td>
<p>indicates whether to interact all the columns (<code>TRUE</code>) or not (<code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base.cols</code></td>
<td>
<p>indicates columns derived from a same column. For example, if <code>age_sq</code> is <code>age^2</code>,
then <code>"age"</code> is a base column. Categorical columns will be automatically considered as base columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude.pair</code></td>
<td>
<p>the pairs will be excluded from interactions. This should be a <code>list</code> object of pairs.
For example, <code>list(c("a1", "a2"), c("d1", "d2"))</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This returns an object of <code>matrix</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">df = data.frame(num = c(1, 2, 3, 4, 5),
                ctr = c("K", "O", "R", "R", "K"),
                logi = c(TRUE, TRUE, FALSE, FALSE, TRUE),
                age = c(10, 20, 30, 40, 50),
                age_sq = c(10, 20, 30, 40, 50)^2,
                loc = c("b", "a", "c", "a", "b"),
                FTHB = c(1,0,1,0,1),
                PRM  = c(0,1,0,1,0),
                PMI  = c(1,1,0,0,0));

to.ncpen.x.mat(df, interact.all = TRUE,
   base.cols = c("age"),
   exclude.pair = list(c("FTHB", "PRM")));



</code></pre>


</div>