<div class="container">

<table style="width: 100%;"><tr>
<td>ci_from_p</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>CI from p value</h2>

<h3>Description</h3>

<p>Calculates approximate confidence interval (CI) for any given
difference, based on the difference value and p value, according to Altman &amp;
Bland (2011).
</p>


<h3>Usage</h3>

<pre><code class="language-R">ci_from_p(diff, p_value, ci = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>diff</code></td>
<td>
<p>Difference (number) around which the CI is to be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_value</code></td>
<td>
<p>The p value for CI calculation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>Numeric; confidence level for the returned CIs (<code>.95</code> per
default).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>CI limits  as named numeric vector with two elements.
</p>


<h3>Note</h3>

<p>Check the Altman &amp; Bland (2011) paper for details! (The calculation for
proportions is not implemented here.)
</p>


<h3>References</h3>

<p>Altman, D. G., &amp; Bland, J. M. (2011). How to obtain the confidence interval
from a P value. Bmj, 343(d2090). <a href="https://doi.org/10.1136/bmj.d2090">doi:10.1136/bmj.d2090</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Example 1
# calculate proportion difference test
proptest_stat = prop.test(x = c(49, 40), n = c(50, 50))

# calculate proportion difference
my_diff = 49/50-40/50

# calculate approximate CI
ci_from_p(my_diff, proptest_stat$p.value)

# returned CI should be very similar to the actual CI
proptest_stat$conf.int


# Example 2
# generate random data
v1 = stats::rnorm(190, 40, 60)
v2 = stats::rnorm(170, 50, 45)

# calculate t-test
ttest_stat = stats::t.test(v1, v2)

# calculate mean difference
my_diff = mean(v1) - mean(v2)

# calculate approximate CI
ci_from_p(my_diff, ttest_stat$p.value)

# returned CI should be similar to the actual CI
ttest_stat$conf.int

</code></pre>


</div>