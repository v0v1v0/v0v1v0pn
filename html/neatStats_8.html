<div class="container">

<table style="width: 100%;"><tr>
<td>excl_neat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Exclusion</h2>

<h3>Description</h3>

<p>Filters dataset by rows (normally: subjects, observations) and
prints the numbers of excluded rows and remaining rows. Returns the
filtered dataset and (optionally) also the excluded rows.
</p>


<h3>Usage</h3>

<pre><code class="language-R">excl_neat(
  dat,
  filt,
  excluded = FALSE,
  group_by = NULL,
  sort_by = "exclusion",
  hush = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>Data frame to be filtered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filt</code></td>
<td>
<p>An expression to use for filtering, by column values, the
<code>dat</code> data frame. (Only the rows for which the filter expression is
<code>TRUE</code> will be kept.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excluded</code></td>
<td>
<p>Logical; <code>FALSE</code> by default. If <code>TRUE</code>, the
function returns not only the filtered data frame, but also a data frame
containing the excluded rows. The returned object in this case will be a
list with two elements: (1) the filtered data frame named <code>filtered</code>,
and (2) the data frame with excluded rows named <code>excluded</code> (see
Examples).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_by</code></td>
<td>
<p>String, or vector of strings: the name(s) of the column(s) in
the <code>dat</code> data frame, containing the vector(s) of factors by which the
printed counts are grouped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort_by</code></td>
<td>
<p>String; specifies whether the printed counts should be sorted
by exclusion (default; <code>"exclusion"</code> or its short forms, e.g.
<code>"excl"</code>), or by the factors given for <code>group_by</code> (for this, give
any other string, e.g. <code>"conditions"</code>). If <code>NULL</code> (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hush</code></td>
<td>
<p>Logical. If <code>TRUE</code>, prevents printing counts to console.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame with the rows for which the <code>filt</code> expression is
<code>TRUE</code>, or, optionally, a list with this data frame plus a data frame
with the excluded rows. At the same time, prints, by default, the count of
remaining and excluded rows.
</p>


<h3>See Also</h3>

<p><code>aggr_neat</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data("mtcars") # load base R example dataset

# filter mtcars for mpg &gt; 20
excl_neat(mtcars, mpg &gt; 20)

# assign the same
mtcars_filtered = excl_neat(mtcars, mpg &gt; 20)
# (mtcars_filtered now contains the filtered subset)

# return and assign excluded rows too
mtcars_filtered_plus_excluded = excl_neat(mtcars, mpg &gt; 20, excluded = TRUE)

# print filtered data frame
print(mtcars_filtered_plus_excluded$filtered)

# print data frame with excluded rows
print(mtcars_filtered_plus_excluded$excluded)

# group printed count by cyl
excl_neat(mtcars, mpg &gt; 20, group_by = 'cyl')

# sort output by grouping
excl_neat(mtcars, mpg &gt; 20, group_by = 'cyl', sort_by = 'group')

# group by cyl amd carb
excl_neat(mtcars, mpg &gt; 15, group_by = c('cyl', 'carb'))

# longer filter expression
excl_neat(mtcars, mpg &gt; 15 &amp; gear == 4, group_by = 'cyl',)

</code></pre>


</div>