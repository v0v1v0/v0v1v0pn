<div class="container">

<table style="width: 100%;"><tr>
<td>npe_community_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a species abundance or occurrence matrix</h2>

<h3>Description</h3>

<p>npe_community_matrix creates a wide matrix of species cover or binary (presence/absence)
values with the plot/subplot/year as rownames. This is useful for the vegan
package, hence the name.
</p>


<h3>Usage</h3>

<pre><code class="language-R">npe_community_matrix(
  x,
  scale = "plot",
  trace_cover = 0.5,
  timescale = "annual",
  input = "neon_div_object",
  binary = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Input object. See input argument help for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>what level of aggregation? This can be "1m", "10m", "100m",
"plot", which is the default, or "site".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace_cover</code></td>
<td>
<p>cover value for subplots where only occupancy was recorded</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timescale</code></td>
<td>
<p>what temporal resolution? can be "subannual", which is really
only applicable at sites where there are multiple bouts per year, "annual" or
"all", which dissolves together the entire time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>by default, longform dataframe is calculated from the diversity
object and then converted to a community matrix, set this option to "lf"
to use a longform data frame that was created separately (and perhaps modified).
Another option is input = "divStack", which is using the output from the
divStack function in the neonPlants package. Using a premade longform data
frame or a divStack output will use the spatial and temporal scale of that
input data separately</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binary</code></td>
<td>
<p>should the matrix be converted from percent cover to binary?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neon_div_object</code></td>
<td>
<p>the raw diversity data downloaded using
neonPlantEcology::download_plant_div() or the function
neonUtilities::loadByProduct() with the dpID arguement set to "DP1.10058.001".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data frame with each row a site aggregated at the spatial and
temporal scales chosen by the user. Each column is a single species, and cell
values can be either cover (a value between 0 and 100) or occurrence (1 or 0)
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("D14")
comm &lt;- npe_community_matrix(D14)

</code></pre>


</div>