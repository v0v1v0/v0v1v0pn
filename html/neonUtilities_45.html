<div class="container">

<table style="width: 100%;"><tr>
<td>stackByTable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Join data files in a zipped NEON data package by table type</h2>

<h3>Description</h3>

<p>Given a zipped data file, do a full join of all data files, grouped by table type.
This should result in a small number of large files.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stackByTable(
  filepath,
  savepath = NA,
  folder = FALSE,
  saveUnzippedFiles = FALSE,
  dpID = NA,
  package = NA,
  nCores = 1,
  useFasttime = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filepath</code></td>
<td>
<p>The location of the zip file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savepath</code></td>
<td>
<p>The location to save the output files to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folder</code></td>
<td>
<p>T or F: does the filepath point to a parent, unzipped folder, or a zip file? If F, assumes the filepath points to a zip file. Defaults to F. No longer needed; included for back compatibility.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveUnzippedFiles</code></td>
<td>
<p>T or F: should the unzipped monthly data folders be retained?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dpID</code></td>
<td>
<p>Data product ID of product to stack. Ignored and determined from data unless input is a vector of files, generally via stackFromStore().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>package</code></td>
<td>
<p>Data download package, either basic or expanded. Ignored and determined from data unless input is a vector of files, generally via stackFromStore().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nCores</code></td>
<td>
<p>The number of cores to parallelize the stacking procedure. To automatically use the maximum number of cores on your machine we suggest setting nCores=parallel::detectCores(). By default it is set to a single core.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useFasttime</code></td>
<td>
<p>Should the fasttime package be used to read date-time variables? Only relevant if savepath="envt". Defaults to false.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>All files are unzipped and one file for each table type is created and written. If savepath="envt" is specified, output is a named list of tables; otherwise, function output is null and files are saved to the location specified.
</p>


<h3>Author(s)</h3>

<p>Christine Laney <a href="mailto:claney@battelleecology.org">claney@battelleecology.org</a>
Claire Lunch <a href="mailto:clunch@battelleecology.org">clunch@battelleecology.org</a>
</p>


<h3>References</h3>

<p>License: GNU AFFERO GENERAL PUBLIC LICENSE Version 3, 19 November 2007
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# To unzip and merge files downloaded from the NEON Data Portal
stackByTable("~/NEON_par.zip")

# To unzip and merge files downloaded using zipsByProduct()
stackByTable("~/filesToStack00024")

## End(Not run)
</code></pre>


</div>