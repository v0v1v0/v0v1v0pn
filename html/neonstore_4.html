<div class="container">

<table style="width: 100%;"><tr>
<td>neon_db</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cache-able duckdb database connection</h2>

<h3>Description</h3>

<p>Cache-able duckdb database connection
</p>


<h3>Usage</h3>

<pre><code class="language-R">neon_db(
  dir = neon_db_dir(),
  read_only = TRUE,
  memory_limit = getOption("duckdb_memory_limit", NA),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>Location where files should be downloaded. By default will
use the appropriate applications directory for your system
(see <code>tools::R_user_dir()</code>).  This default also be configured by
setting the environmental variable <code>NEONSTORE_HOME</code>, see Sys.setenv or
Renviron.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>read_only</code></td>
<td>
<p>allow concurrent connections by enforcing read_only.
See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>memory_limit</code></td>
<td>
<p>Set a memory limit for duckdb, in GB.  This can
also be set for the session by using options, e.g.
<code>options(duckdb_memory_limit=10)</code> for a limit of 10GB.  On most systems
duckdb will automatically set a limit to 80% of machine capacity if not
set explicitly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to dbConnect</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Creates a connection to a permanent duckdb database
instance in the provided directory (see <code>neon_dir()</code>).  This
connection is also cached, so that code which repeatedly calls
<code style="white-space: pre;">⁠[neon_db]⁠</code> will not stall or hang.  Only <code>read_only</code> connections
will be cached.
</p>
<p>NOTE: <code style="white-space: pre;">⁠[duckdb::duckdb()]⁠</code> can only support a single read-write connection
at a time.  The default option of <code>read_only = TRUE</code> allows
multiple connections. <code style="white-space: pre;">⁠[neon_store()]⁠</code> will automatically set this to
<code>FALSE</code> to allow data import.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# tempfile used for illustration only
neon_db(tempfile())

</code></pre>


</div>