<div class="container">

<table style="width: 100%;"><tr>
<td>get_downloads</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>get_downloads</h2>

<h3>Description</h3>

<p>Information for Fossil Datasets
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_downloads(x = NA, verbose = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Use a single number to extract site information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Status bar of items being downloaded</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>accepted arguments: sites, datasets</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>get_downloads()</code> command wraps the Neotoma API
(<a href="https://api.neotomadb.org">api.neotomadb.org</a>) call for <code>downloads</code>.
The call itself uses a SQL query which accepts any one of the following
parameters:
</p>

<ul>
<li> <p><code>datasetid</code> The unique dataset ID (integer) in Neotoma. Can be passed
as a vector of dataset IDs.
</p>
</li>
<li> <p><code>all_data</code> The API only downloads the first 25 records of the query.
For the complete records, use <code>all_data=TRUE</code>
</p>
</li>
</ul>
<h3>Value</h3>

<p>The function returns either a single item of class
<code>"try-error"</code> describing the reason for failure
(either misdefined parameters or an error from the Neotoma API),
or a table of sites, with rows corresponding to the number of
individual sites and datasets returned by the Neotoma API.
Each "site" object contains 6 parameters that can be accessed as well:
</p>
<table>
<tr style="vertical-align: top;">
<td><code> <code>siteid</code> </code></td>
<td>
<p>site ID number</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>sitename</code> </code></td>
<td>
<p>site's name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>location</code> </code></td>
<td>
<p>sf object that describes site's location</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>description</code> </code></td>
<td>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>collunits</code> </code></td>
<td>
<p>limited information on collunits</p>
</td>
</tr>
</table>
<p>Each "collection unit" embedded in the "sites" object contains
6 parameters that can be accessed as well:
</p>
<table>
<tr style="vertical-align: top;">
<td><code> <code>collunitid</code></code></td>
<td>
<p>collection unit ID number</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>handle</code> </code></td>
<td>
<p>collection unit's handle</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>collunitname</code> </code></td>
<td>
<p>collection unit's name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>colldate</code> </code></td>
<td>
<p>date in collection unit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>substrate</code> </code></td>
<td>
<p>substrate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>location</code> </code></td>
<td>
<p>sf object that describes site's location</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>datasets</code> </code></td>
<td>
<p>detailed information regarding dataset</p>
</td>
</tr>
</table>
<p>Each "dataset" nested in the "collection unit" contains the
following detail of information:
</p>
<table>
<tr style="vertical-align: top;">
<td><code> <code>datasetid</code> </code></td>
<td>
<p>dataset ID number</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>datasetname</code> </code></td>
<td>
<p>site's name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>datasettype</code> </code></td>
<td>
<p>type of data found</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>location</code> </code></td>
<td>
<p>sf object that describes site's location</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>notes</code> </code></td>
<td>
<p>notes on the dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>taxa table</code> </code></td>
<td>
<p>taxa table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>pi list</code> </code></td>
<td>
<p>P.I. info</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>analyst</code> </code></td>
<td>
<p>analyst info</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> <code>metadata</code> </code></td>
<td>
<p>dataset metadata</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Socorro Dominguez <a href="mailto:s.dominguez@ht-data.com">s.dominguez@ht-data.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# To find the downloads object of dataset 24:
downloads24 &lt;- get_downloads(24)

# To find all downloads in Brazil
brazil &lt;- '{"type": "Polygon",
"coordinates": [[
 [-73.125, -9.102096738726443],
 [-56.953125,-33.137551192346145],
 [-36.5625,-7.710991655433217],
 [-68.203125,13.923403897723347],
 [-73.125,-9.102096738726443]]]}'
brazil_datasets &lt;- get_datasets(loc = brazil[1])
brazil_downloads &lt;- get_downloads(brazil_datasets)

</code></pre>


</div>