<div class="container">

<table style="width: 100%;"><tr>
<td>nestedMethods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Methods for <code>"nestedLogit"</code> and Related Objects</h2>

<h3>Description</h3>

<p>Various methods for processing <code>"nestedLogit"</code> and related objects.
Most of these are the standard methods for a model-fitting function.
</p>

<dl>
<dt>
<code>coef</code>, <code>vcov</code>
</dt>
<dd>
<p>Return the coefficients and their variance-covariance matrix respectively.</p>
</dd>
<dt><code>update</code></dt>
<dd>
<p>Re-fit a <code>"nestedLogit"</code> model with a change in any of the <code>formula</code>, <code>dichotomies</code>,
<code>data</code>, <code>subset</code>, or <code>contrasts</code>, arguments.</p>
</dd>
<dt>
<code>predict</code>, <code>fitted</code>
</dt>
<dd>
<p>Computes predicted values from a fitted <code>"nestedLogit"</code> model.</p>
</dd>
<dt><code>confint</code></dt>
<dd>
<p>Compute point-wise confidence limits for predicted response-category
probabilities or logits.</p>
</dd>
<dt><code>glance</code></dt>
<dd>
<p>Construct a single row summaries for the dichotomies <code>"nestedLogit"</code> model.</p>
</dd>
<dt><code>tidy</code></dt>
<dd>
<p>Summarizes the terms in <code>"nestedLogit"</code> model.</p>
</dd>
</dl>
<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'nestedLogit'
print(x, ...)

## S3 method for class 'nestedLogit'
summary(object, ...)

## S3 method for class 'summary.nestedLogit'
print(x, ...)

## S3 method for class 'dichotomies'
print(x, ...)

## S3 method for class 'nestedLogit'
predict(object, newdata, model = c("nested", "dichotomies"), ...)

## S3 method for class 'predictNestedLogit'
print(x, n = min(10L, nrow(x$p)), ...)

## S3 method for class 'predictNestedLogit'
confint(
  object,
  parm = c("prob", "logit"),
  level = 0.95,
  conf.limits.logit = TRUE,
  ...
)

## S3 method for class 'predictDichotomies'
print(x, n = 10L, ...)

## S3 method for class 'nestedLogit'
fitted(object, model = c("nested", "dichotomies"), ...)

## S3 method for class 'nestedLogit'
coef(object, as.matrix = TRUE, ...)

## S3 method for class 'nestedLogit'
vcov(object, as.matrix = FALSE, ...)

## S3 method for class 'nestedLogit'
update(object, formula, dichotomies, data, subset, contrasts, ...)

## S3 method for class 'dichotomies'
as.matrix(x, ...)

## S3 method for class 'dichotomies'
as.character(x, ...)

## S3 method for class 'continuationDichotomies'
as.matrix(x, ...)

as.dichotomies(x, ...)

## S3 method for class 'matrix'
as.dichotomies(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, object</code></td>
<td>
<p>in most cases, an object of class <code>"nestedLogit"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to be passed down.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>For the <code>predict</code> method, a data frame containing combinations of values of the predictors
at which fitted probabilities (or other quantities) are to be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>For the <code>predict</code> and <code>fitted</code> methods, either <code>"nested"</code> (the default), in which case fitted probabilities
under the nested logit model are returned, or <code>"dichotomies"</code>, in which case
<code>predict.glm</code> is invoked for each binary logit model fit to the nested
dichotomies and a named list of the results is returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>For the print method of <code>predict.nestedLogit</code>
or <code>predictDichotomies</code>, an integer or <code>"all"</code>
to control how many rows are printed for each of the probabilities of
response categories, corresponding logits and their standard errors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parm</code></td>
<td>
<p>For the <code>confint</code> method, one of <code>"prob"</code> or <code>"logit"</code>,
indicating whether to generate confidence intervals for probabilities or logits
of the responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>Confidence level for the <code>confint</code> method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.limits.logit</code></td>
<td>
<p>When <code>parm = "prob"</code> ?????</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.matrix</code></td>
<td>
<p>if <code>TRUE</code> (the default for <code>coef</code>) return coefficients
as a matrix with one column for each nested dichotomy,
or coefficient covariances as a matrix with one row and column for each
combination of dichotomies and coefficients; if <code>FALSE</code> (the default for
<code>vcov</code>), return a list of coefficients or coefficient covariances
with one element for each dichotomy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>optional updated model formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dichotomies</code></td>
<td>
<p>optional updated dichotomies object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>optional updated data argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>optional updated subset argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrasts</code></td>
<td>
<p>optional updated contrasts argument.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>predict</code> method provides predicted values for two representations of the model.
<code>model = "nested"</code> gives the fitted probabilities for each of the response categories.
<code>model = "dichotomies"</code> gives the fitted log odds for each binary logit models in the
dichotomies.
</p>


<h3>Value</h3>


<ul>
<li>
<p> The <code>coef</code> and <code>vcov</code> methods return either matrices or lists of regression
coefficients and their covariances, respectively.
</p>
</li>
<li>
<p> The <code>update</code> method returns an object of class <code>"nestedLogit"</code> (see <code>nestedLogit</code>)
derived from the original nested-logit model.
</p>
</li>
<li>
<p> The <code>predict</code> and <code>fitted</code> methods return an object of class <code>"predictNested"</code>
or <code>"predictDichotomies"</code>, which contain the predicted probabilities, predicted logits,
and other information, such as standard errors of predicted values, and, if supplied,
the <code>newdata</code> on which predictions are based.
</p>
</li>
<li>
<p> The <code>summary</code> method returns an object of class <code>"summary.nestedLogit"</code>, which is
a list of summaries of the <code>glm</code> objects that comprise the nested-dichotomies model; the
object is normally printed.
</p>
</li>
<li>
<p> The methods for <code>as.matrix</code>, <code>as.character</code>, and <code>as.dichotomies</code> coerce
various objects to matrices, character vectors, and dichotomies objects.
</p>
</li>
<li>
<p> The various <code>print</code> methods invisibly return their <code>x</code> arguments.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>John Fox and Michael Friendly
</p>


<h3>See Also</h3>

<p><code>nestedLogit</code>, <code>plot.nestedLogit</code>,
<code>glance.nestedLogit</code>, <code>tidy.nestedLogit</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># define continuation dichotomies for level of education
cont.dichots &lt;- continuationLogits(c("l.t.highschool",
                                     "highschool",
                                     "college",
                                     "graduate"))

# Show dichotomies in various forms
print(cont.dichots)
as.matrix(cont.dichots)
as.character(cont.dichots)

# fit a nested model for the GSS data examining education degree in relation to parent &amp; year
m &lt;- nestedLogit(degree ~ parentdeg + year,
                 cont.dichots,
                 data=GSS)

coef(m)                             # coefficient estimates
sqrt(diag(vcov(m, as.matrix=TRUE))) # standard errors
print(m)
summary(m)

# broom methods
broom::glance(m)
broom::tidy(m)

# predicted probabilities and ploting
predict(m) # fitted probabilities for first few cases;

new &lt;- expand.grid(parentdeg=c("l.t.highschool",  "highschool",
                               "college", "graduate"),
                   year=c(1972, 2016))
fit &lt;- predict(m, newdata=new)
cbind(new, fit) # fitted probabilities at specific values of predictors

# predicted logits for dichotomies
predictions &lt;- predict(m, newdata=new, model="dichotomies")
predictions

</code></pre>


</div>