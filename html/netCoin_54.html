<div class="container">

<table style="width: 100%;"><tr>
<td>surCoin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Networked coincidences from a data frame.</h2>

<h3>Description</h3>

<p><code>surCoin</code> produces a network object of coincidences from a data frame converting variables into dichotomies. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">surCoin(data,variables=names(data), commonlabel=NULL,
        dichotomies=NULL, valueDicho=1, metric=NULL, exogenous=NULL,
        weight=NULL, subsample=FALSE, pairwise=FALSE,
        minimum=1, maximum=nrow(data), sort=FALSE, decreasing=TRUE,
        frequency=FALSE, percentages=TRUE,
        procedures="Haberman", criteria="Z", Bonferroni=FALSE,
        support=-Inf, minL=-Inf, maxL=Inf,
        directed=FALSE, diagonal=FALSE, sortL=NULL, decreasingL=TRUE,
        igraph=FALSE, coin=FALSE, dir=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>a vector of variables included in the previous data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>commonlabel</code></td>
<td>
<p>a vector of variables whose names are to be included in nodes labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dichotomies</code></td>
<td>
<p>a vector of dichotomous variables to appear as just one category.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valueDicho</code></td>
<td>
<p>value or values to be selected for dichotomous variables. Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>a vector of metrics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exogenous</code></td>
<td>
<p>a vector of variables whose relations amongst them are of no interest. None by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>a vector of weights. Optimal for data.framed tables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsample</code></td>
<td>
<p>retrict the analysis to scenarios with at least one event.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pairwise</code></td>
<td>
<p>Pairwise mode of handling missing values if TRUE. Listwise by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minimum</code></td>
<td>
<p>minimum frequency to be considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maximum</code></td>
<td>
<p>maximum frequency to be considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>sort the coincidence matrix according to frequency of events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decreasing</code></td>
<td>
<p>decreasing or increasing sort of the matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frequency</code></td>
<td>
<p>a logical value true if frequencies are to be shown. Default=FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percentages</code></td>
<td>
<p>a logical value true if percentages are to be shown. Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>procedures</code></td>
<td>
<p>a vector of statistics of similarity. See below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criteria</code></td>
<td>
<p>statistic to be use for selection criteria.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Bonferroni</code></td>
<td>
<p>Bonferroni criterium of the signification test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>support</code></td>
<td>
<p>minimum value of the frequency of the coincidence to be edged.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minL</code></td>
<td>
<p>minimum value of the statistic to include the edge in the list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxL</code></td>
<td>
<p>maximum value of the statistic to include the edge in the list. By default is +Inf, except if criteria="Z" or criteria="hyp", in which case it is .5. It is recommnended to change it to .05 if data has been sampled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>directed</code></td>
<td>
<p>includes same edges only once.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diagonal</code></td>
<td>
<p>includes auto-links.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortL</code></td>
<td>
<p>sort the list according to the values of a statistic. See below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decreasingL</code></td>
<td>
<p>order in a decreasing way.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>igraph</code></td>
<td>
<p>Produces an igraph object instead of a netCoin object if TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coin</code></td>
<td>
<p>Only return the coincidences matrix if TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>a "character" string representing the directory where the web files will be saved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Any netCoin argument.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Possible measures in procedures are 
</p>

<ul>
<li>
<p>Frequencies (f), Relative frequencies (x), Conditional frequencies (i), Coincidence degree (cc), Probable degree (cp),
</p>
</li>
<li>
<p>Expected (e), Confidence interval (con)
</p>
</li>
<li>
<p>Matching (m), Rogers &amp; Tanimoto (t), Gower (g), Sneath (s), Anderberg (and),
</p>
</li>
<li>
<p> Jaccard (j), Dice (d), antiDice (a), Ochiai (o), Kulczynski (k),
</p>
</li>
<li>
<p> Hamann (ham), Yule (y), Pearson (p), odds ratio (od), Rusell (r), 
</p>
</li>
<li>
<p> Haberman (h), Z value of Haberman (z), 
</p>
</li>
<li>
<p> Hypergeometric p greater value (hyp).
</p>
</li>
<li>
<p> Convert a matrix into an edge list (shape).
</p>
</li>
</ul>
<h3>Value</h3>

<p>This function creates a netCoin object (or igraph) and, if stated, a folder in the computer with an HTML document named index.html which contains the produced graph. This file can be directly opened with your browser and sent to a web server to work properly.
</p>


<h3>Author(s)</h3>

<p>Modesto Escobar, Department of Sociology and Communication, University of Salamanca. See <a href="https://sociocav.usal.es/blog/modesto-escobar/">https://sociocav.usal.es/blog/modesto-escobar/</a>
</p>


<h3>References</h3>

<p>Escobar, M. and Martinez-Uribe, L. (2020)
Network Coincidence Analysis: The <code>netCoin</code> <code>R</code> Package.
<em>Journal of Statistical Software</em>, <b>93</b>, 1-32.
doi: <a href="https://doi.org/10.18637/jss.v093.i11">10.18637/jss.v093.i11</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># A data frame with two variables Gender and Opinion
frame &lt;- data.frame(Gender=c(rep("Man",3),rep("Woman",3)),
                    Opinion=c("Yes","Yes","No","No","No","Yes"))
surCoin(frame,commonlabel="") # network object

# A data frame with two variables (Gender and Hand) and nodes
input &lt;- data.frame(
  Gender = c("Women", "Men", "Men", "Women", "Women","Men",
             "Men", "Men", "Women", "Women", "Men", "Women"),
  Hand   = c("Right", "Left","Right", "Right", "Right", "Right",
             "Left", "Right", "Right", "Left","Right", "Right"))
nodes &lt;- data.frame(
  name  = c("Gender:Men","Gender:Women", "Hand:Left", "Hand:Right"),
  label = c("Women(50\u25)","Men(50\u25)",
            "Left hand(25\u25)", "Right hand(75\u25)"))
G &lt;- surCoin(input, nodes=nodes, proc=c("h","i"), label="label",
             ltext="i", showArrows=TRUE, maxL=.99)
</code></pre>


</div>