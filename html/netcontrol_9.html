<div class="container">

<table style="width: 100%;"><tr>
<td>LQR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Linear Quadratic Regulator</h2>

<h3>Description</h3>

<p>Creates a function that can be used to calculate the cumulative value of the LQR
for any set of states and control inputs. By setting eval to True, 
the LQR is immediately calculated. See (Lewis et al. 2012)
</p>
<p>NOTE: LQR functions, as they are calculated forward in time, go to 0 by the maximum time regardless of input. 
This is expected behavior, but that does make using the LQR value to evaluate control efficacy somewhat difficult.
</p>


<h3>Usage</h3>

<pre><code class="language-R">LQR(X, U, S, Q_seq, R_seq, eval = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>A <code class="reqn">t x p</code> matrix of state values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>U</code></td>
<td>
<p>A <code class="reqn">t-1 x q</code> matrix of control inputs'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>A <code class="reqn">p x p</code> final state weighting matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q_seq</code></td>
<td>
<p>A list of <code class="reqn">t</code> <code class="reqn">p x p</code> intermediate state weighting matrices or a single <code class="reqn">p x p</code> intermediate state weighting matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R_seq</code></td>
<td>
<p>A list of <code class="reqn">t</code> <code class="reqn">q x q</code> intermediate cost matrices or a single <code class="reqn">q x q</code> cost matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eval</code></td>
<td>
<p>Boolean, if <code>FALSE</code> returns a function, if <code>TRUE</code> calculates the LQR series</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A function or a <code class="reqn">t</code> length numeric vector
</p>


<h3>References</h3>

<p>Lewis FL, Vrabie DL, Syrmos VL (2012).
<em>Optimal Control</em>, 3rd ed edition.
Wiley, Hoboken.
ISBN 978-0-470-63349-6.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
X = matrix(1, 100, 3)
U = matrix(-1, 99, 3)
S = Q_seq = R_seq = diag(3)

print(LQR(X,U, S, Q_seq, R_seq)[1:5])

</code></pre>


</div>