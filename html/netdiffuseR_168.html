<div class="container">

<table style="width: 100%;"><tr>
<td>plot_threshold</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Threshold levels through time</h2>

<h3>Description</h3>

<p>Draws a graph where the coordinates are given by time of adoption, x-axis,
and threshold level, y-axis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_threshold(graph, expo, ...)

## S3 method for class 'diffnet'
plot_threshold(graph, expo, ...)

## S3 method for class 'array'
plot_threshold(graph, expo, ...)

## Default S3 method:
plot_threshold(
  graph,
  expo,
  toa,
  include_censored = FALSE,
  t0 = min(toa, na.rm = TRUE),
  attrs = NULL,
  undirected = getOption("diffnet.undirected"),
  no.contemporary = TRUE,
  main = "Time of Adoption by\nNetwork Threshold",
  xlab = "Time",
  ylab = "Threshold",
  vertex.size = "degree",
  vertex.color = NULL,
  vertex.label = "",
  vertex.label.pos = NULL,
  vertex.label.cex = 1,
  vertex.label.adj = c(0.5, 0.5),
  vertex.label.color = NULL,
  vertex.sides = 40L,
  vertex.rot = 0,
  edge.width = 2,
  edge.color = NULL,
  arrow.width = NULL,
  arrow.length = NULL,
  arrow.color = NULL,
  include.grid = FALSE,
  vertex.frame.color = NULL,
  bty = "n",
  jitter.factor = c(1, 1),
  jitter.amount = c(0.25, 0.025),
  xlim = NULL,
  ylim = NULL,
  edge.curved = NULL,
  background = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>graph</code></td>
<td>
<p>A dynamic graph (see <code>netdiffuseR-graphs</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expo</code></td>
<td>
<p><code class="reqn">n\times T</code> matrix. Esposure to the innovation obtained from <code>exposure</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>toa</code></td>
<td>
<p>Integer vector of length <code class="reqn">n</code> with the times of adoption.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_censored</code></td>
<td>
<p>Logical scalar. Passed to <code>threshold</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t0</code></td>
<td>
<p>Integer scalar. Passed to <code>threshold</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attrs</code></td>
<td>
<p>Passed to <code>exposure</code> (via threshold).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>undirected</code></td>
<td>
<p>Logical scalar. When <code>TRUE</code> only the lower triangle of the adjacency matrix will considered (faster).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no.contemporary</code></td>
<td>
<p>Logical scalar. When TRUE, edges for vertices with the same
<code>toa</code> won't be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Character scalar. Title of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Character scalar. x-axis label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Character scalar. y-axis label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertex.size</code></td>
<td>
<p>Numeric vector of size <code class="reqn">n</code>. Relative size of the vertices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertex.color</code></td>
<td>
<p>Either a vector of size <code class="reqn">n</code> or a scalar indicating colors of the vertices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertex.label</code></td>
<td>
<p>Character vector of size <code class="reqn">n</code>. Labels of the vertices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertex.label.pos</code></td>
<td>
<p>Integer value to be passed to <code>text</code> via <code>pos</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertex.label.cex</code></td>
<td>
<p>Either a numeric scalar or vector of size <code class="reqn">n</code>. Passed to <code>text</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertex.label.adj</code></td>
<td>
<p>Passed to <code>text</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertex.label.color</code></td>
<td>
<p>Passed to <code>text</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertex.sides</code></td>
<td>
<p>Either a vector of size <code class="reqn">n</code> or a scalar indicating the
number of sides of each vertex (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertex.rot</code></td>
<td>
<p>Either a vector of size <code class="reqn">n</code> or a scalar indicating the
rotation in radians of each vertex (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edge.width</code></td>
<td>
<p>Numeric. Width of the edges.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edge.color</code></td>
<td>
<p>Character. Color of the edges.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow.width</code></td>
<td>
<p>Numeric value to be passed to <code>arrows</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow.length</code></td>
<td>
<p>Numeric value to be passed to <code>arrows</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow.color</code></td>
<td>
<p>Color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include.grid</code></td>
<td>
<p>Logical. When TRUE, the grid of the graph is drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertex.frame.color</code></td>
<td>
<p>Either a vector of size <code class="reqn">n</code> or a scalar indicating colors of vertices' borders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bty</code></td>
<td>
<p>See <code>par</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter.factor</code></td>
<td>
<p>Numeric vector of size 2 (for x and y) passed to <code>jitter</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter.amount</code></td>
<td>
<p>Numeric vector of size 2 (for x and y) passed to <code>jitter</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>Passed to <code>plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>Passed to <code>plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edge.curved</code></td>
<td>
<p>Logical scalar. When curved, generates curved edges.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>background</code></td>
<td>
<p>TBD</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>vertex.label=NULL</code> the function uses vertices ids as labels.
By default <code>vertex.label=""</code> plots no labels.
</p>
<p>Vertices are drawn using an internal function for generating polygons.
Polygons are inscribed in a circle of radius <code>vertex.size</code>, and can be
rotated using <code>vertex.rot</code>. The number of sides of each polygon
is set via <code>vertex.sides</code>.
</p>


<h3>Value</h3>

<p>Invisible. A data frame with the calculated coordinates, including:
'toa', 'threshold', and 'jit' (a jittered version of 'toa').
</p>


<h3>Author(s)</h3>

<p>George G. Vega Yon
</p>


<h3>See Also</h3>

<p>Use <code>threshold</code> to retrieve the corresponding threshold
obtained returned by <code>exposure</code>.
</p>
<p>Other visualizations: 
<code>dgr()</code>,
<code>diffusionMap()</code>,
<code>drawColorKey()</code>,
<code>grid_distribution()</code>,
<code>hazard_rate()</code>,
<code>plot_adopters()</code>,
<code>plot_diffnet2()</code>,
<code>plot_diffnet()</code>,
<code>plot_infectsuscep()</code>,
<code>rescale_vertex_igraph()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Generating a random graph
set.seed(1234)
n &lt;- 6
nper &lt;- 5
graph &lt;- rgraph_er(n,nper, p=.3, undirected = FALSE)
toa &lt;- sample(2000:(2000+nper-1), n, TRUE)
adopt &lt;- toa_mat(toa)

# Computing exposure
expos &lt;- exposure(graph, adopt$cumadopt)

plot_threshold(graph, expos, toa)

# Calculating degree (for sizing the vertices)
plot_threshold(graph, expos, toa, vertex.size = "indegree")

</code></pre>


</div>