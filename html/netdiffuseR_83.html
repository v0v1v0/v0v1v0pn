<div class="container">

<table style="width: 100%;"><tr>
<td>ego_variance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Computes variance of <code class="reqn">Y</code> at ego level</h2>

<h3>Description</h3>

<p>Computes variance of <code class="reqn">Y</code> at ego level
</p>


<h3>Usage</h3>

<pre><code class="language-R">ego_variance(graph, Y, funname, all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>graph</code></td>
<td>
<p>A matrix of size <code class="reqn">n\times n</code> of class <code>dgCMatrix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>A numeric vector of length <code class="reqn">n</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>funname</code></td>
<td>
<p>Character scalar. Comparison to make (see <code>vertex_covariate_compare</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all</code></td>
<td>
<p>Logical scalar. When <code>FALSE</code> (default) <code class="reqn">f_i</code> is mean at
ego level. Otherwise is fix for all i (see details).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For each vertex <code class="reqn">i</code> the variance is computed as follows
</p>
<p style="text-align: center;"><code class="reqn">%
(\sum_j a_{ij})^{-1}\sum_j a_{ij} \left[f(y_i,y_j) - f_i\right]^2
</code>
</p>

<p>Where <code class="reqn">a_{ij}</code> is the ij-th element of <code>graph</code>, <code class="reqn">f</code> is
the function specified in <code>funname</code>, and, if <code>all=FALSE</code>
<code class="reqn">f_i = \sum_j a_{ij}f(y_i,y_j)^2/\sum_ja_{ij}</code>,
otherwise <code class="reqn">f_i = f_j = \frac{1}{n^2}\sum_{i,j}f(y_i,y_j)</code>
</p>
<p>This is an auxiliary function for <code>struct_test</code>. The idea is
to compute an adjusted measure of disimilarity between vertices, so the
closest in terms of <code class="reqn">f</code> is <code class="reqn">i</code> to its neighbors, the smaller the
relative variance.
</p>


<h3>Value</h3>

<p>A numeric vector of length <code class="reqn">n</code>.
</p>


<h3>See Also</h3>

<p><code>struct_test</code>
</p>
<p>Other statistics: 
<code>bass</code>,
<code>classify_adopters()</code>,
<code>cumulative_adopt_count()</code>,
<code>dgr()</code>,
<code>exposure()</code>,
<code>hazard_rate()</code>,
<code>infection()</code>,
<code>moran()</code>,
<code>struct_equiv()</code>,
<code>threshold()</code>,
<code>vertex_covariate_dist()</code>
</p>


</div>