<div class="container">

<table style="width: 100%;"><tr>
<td>forest.netmeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Forest plot for network meta-analysis</h2>

<h3>Description</h3>

<p>Draws a forest plot in the active graphics window (using grid
graphics system).
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'netmeta'
forest(
  x,
  pooled = ifelse(x$random, "random", "common"),
  reference.group = x$reference.group,
  baseline.reference = x$baseline.reference,
  labels = x$trts,
  equal.size = TRUE,
  leftcols = "studlab",
  leftlabs,
  rightcols = c("effect", "ci"),
  rightlabs,
  digits = gs("digits.forest"),
  small.values = x$small.values,
  nsim = 1000,
  digits.prop = 2,
  smlab = NULL,
  sortvar = x$seq,
  backtransf = x$backtransf,
  lab.NA = ".",
  add.data,
  drop.reference.group = FALSE,
  col.by = "black",
  print.subgroup.name = FALSE,
  ...
)

## S3 method for class 'netmeta'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>netmeta</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pooled</code></td>
<td>
<p>A character string indicating whether results for the
common (<code>"common"</code>) or random effects model
(<code>"random"</code>) should be plotted. Can be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference.group</code></td>
<td>
<p>Reference treatment(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseline.reference</code></td>
<td>
<p>A logical indicating whether results
should be expressed as comparisons of other treatments versus the
reference treatment (default) or vice versa.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>An optional vector with treatment labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>equal.size</code></td>
<td>
<p>A logical indicating whether all squares should
be of equal size. Otherwise, the square size is proportional to
the precision of estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leftcols</code></td>
<td>
<p>A character vector specifying columns to be plotted
on the left side of the forest plot or a logical value (see
Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leftlabs</code></td>
<td>
<p>A character vector specifying labels for
(additional) columns on left side of the forest plot (see
Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rightcols</code></td>
<td>
<p>A character vector specifying columns to be
plotted on the right side of the forest plot or a logical value
(see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rightlabs</code></td>
<td>
<p>A character vector specifying labels for
(additional) columns on right side of the forest plot (see
Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Minimal number of significant digits for treatment
effects and confidence intervals, see <code>print.default</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>small.values</code></td>
<td>
<p>A character string specifying whether small
treatment effects indicate a beneficial (<code>"desirable"</code>) or
harmful (<code>"undesirable"</code>) effect, can be abbreviated; see
<code>netrank</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>Number of simulations to calculate SUCRAs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits.prop</code></td>
<td>
<p>Minimal number of significant digits for
P-scores, SUCRAs and direct evidence proportions, see
<code>print.default</code> and <code>netrank</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smlab</code></td>
<td>
<p>A label printed at top of figure. By default, text
indicating either common or random effects model is printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortvar</code></td>
<td>
<p>An optional vector used to sort treatments (must be
of same length as the total number of treatments).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backtransf</code></td>
<td>
<p>A logical indicating whether results should be
back transformed in forest plots. If <code>backtransf = TRUE</code>,
results for <code>sm = "OR"</code> are presented as odds ratios rather
than log odds ratios, for example.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab.NA</code></td>
<td>
<p>A character string to label missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.data</code></td>
<td>
<p>An optional data frame with additional columns to
print in forest plot (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.reference.group</code></td>
<td>
<p>A logical indicating whether the
reference group should be printed in the forest plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.by</code></td>
<td>
<p>The colour to print information on subgroups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.subgroup.name</code></td>
<td>
<p>A logical indicating whether the name of
the grouping variable should be printed in front of the group
labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments for <code>forest.meta</code>
function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A forest plot, also called confidence interval plot, is drawn in
the active graphics window.
</p>
<p>Argument <code>sortvar</code> can be either a numeric or character vector
with length of number of treatments. If <code>sortvar</code> is numeric
the <code>order</code> function is utilised internally to
determine the order of values. If <code>sortvar</code> is character it
must be a permutation of the treatment names. It is also possible
to provide either <code>sortvar = Pscore</code>, <code>sortvar =
"Pscore"</code>, <code>sortvar = -Pscore</code>, or <code>sortvar = "-Pscore"</code>
in order to sort treatments according to the ranking generated by
<code>netrank</code> which is called internally. It is also
possible to use "SUCRA" instead of "Pscore". Similar expressions
are possible to sort by treatment comparisons (<code>sortvar = TE</code>,
etc.), standard error (<code>sortvar = seTE</code>), number of studies
with direct treatment comparisons (<code>sortvar = k</code>), and direct
evidence proportion (<code>sortvar = prop.direct</code>, see also
<code>netmeasures</code>).
</p>
<p>The arguments <code>leftcols</code> and <code>rightcols</code> can be used to
specify columns which are plotted on the left and right side of the
forest plot, respectively. The following columns are available:
</p>

<table>
<tr>
<td style="text-align: left;">
<b>Name</b> </td>
<td style="text-align: left;"> <b>Definition</b> </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"studlab"</code> </td>
<td style="text-align: left;"> Treatments </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"TE"</code> </td>
<td style="text-align: left;"> Network estimates (either from common or random
  effects model) </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"seTE"</code> </td>
<td style="text-align: left;"> Corresponding standard errors </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"Pscore"</code> </td>
<td style="text-align: left;"> P-scores (see <code>netrank</code>) </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"SUCRA"</code> </td>
<td style="text-align: left;"> SUCRAs (see <code>netrank</code>) </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"n.trts"</code> </td>
<td style="text-align: left;"> Number of participants per treatment arm </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"k"</code> </td>
<td style="text-align: left;"> Number of studies in pairwise comparisons </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"prop.direct"</code> </td>
<td style="text-align: left;"> Direct evidence proportions (see
  <code>netmeasures</code>) </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"effect"</code> </td>
<td style="text-align: left;"> (Back-transformed) network estimates </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"ci"</code> </td>
<td style="text-align: left;"> Confidence intervals </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"effect.ci"</code> </td>
<td style="text-align: left;"> (Back-transformed) network estimates and
  confidence intervals
</td>
</tr>
</table>
<p>As a sidenote, the rather odd column name <code>"studlab"</code> to
describe the treatment comparisons comes from internally calling
<code>forest.meta</code> which uses study labels as the essential
information.
</p>
<p>Argument <code>add.data</code> can be used to add additional columns to
the forest plot. This argument must be a data frame with row names
equal to the treatment names in R object <code>x</code>, i.e.,
<code>x$trts</code>.
</p>
<p>See help page of <code>forest.meta</code> for more information on
the generation of forest plots and additional arguments.
</p>


<h3>Author(s)</h3>

<p>Guido Schwarzer <a href="mailto:guido.schwarzer@uniklinik-freiburg.de">guido.schwarzer@uniklinik-freiburg.de</a>
</p>


<h3>See Also</h3>

<p><code>forest.meta</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(smokingcessation)

# Transform data from arm-based format to contrast-based format
#
p1 &lt;- pairwise(list(treat1, treat2, treat3),
  event = list(event1, event2, event3), n = list(n1, n2, n3),
  data = smokingcessation, sm = "OR")

# Conduct random effects network meta-analysis
#
net1 &lt;- netmeta(p1, common = FALSE)

forest(net1)

## Not run: 
data(Senn2013)

# Conduct network meta-analysis
#
net2 &lt;- netmeta(TE, seTE, treat1, treat2, studlab,
  data = Senn2013, sm = "MD")

forest(net2, ref = "plac")
forest(net2, xlim = c(-1.5, 1), ref = "plac",
  xlab = "HbA1c difference", rightcols = FALSE)

# Random effects effect model
#
net3 &lt;- netmeta(TE, seTE, treat1, treat2, studlab,
  data = Senn2013, sm = "MD", common = FALSE)

forest(net3, xlim = c(-1.5, 1), ref = "plac",
  xlab = "HbA1c difference")

# Add column with P-Scores on right side of forest plot
#
forest(net3, xlim = c(-1.5, 1), ref = "plac",
  xlab = "HbA1c difference",
  rightcols = c("effect", "ci", "Pscore"),
  just.addcols = "right")

# Add column with P-Scores on left side of forest plot
#
forest(net3, xlim = c(-1.5, 1), ref = "plac",
  xlab = "HbA1c difference",
  leftcols = c("studlab", "Pscore"),
  just.addcols = "right")

# Sort forest plot by descending P-Score
#
forest(net3, xlim = c(-1.5, 1), ref = "plac",
  xlab = "HbA1c difference",
  rightcols = c("effect", "ci", "Pscore"),
  just.addcols = "right",
  sortvar = -Pscore)

# Drop reference group and sort by and print number of studies with
# direct treatment comparisons
#
forest(net3, xlim = c(-1.5, 1), ref = "plac",
  xlab = "HbA1c difference",
  leftcols = c("studlab", "k"),
  leftlabs = c("Contrast\nto Placebo", "Direct\nComparisons"),
  sortvar = -k,
  drop = TRUE,
  smlab = "Random Effects Model")

## End(Not run)

</code></pre>


</div>