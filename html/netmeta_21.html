<div class="container">

<table style="width: 100%;"><tr>
<td>funnel.netmeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>‘Comparison-adjusted’ funnel plot</h2>

<h3>Description</h3>

<p>Draw a ‘comparison-adjusted’ funnel plot to assess funnel
plot asymmetry in network meta-analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'netmeta'
funnel(
  x,
  order,
  pooled = ifelse(x$random, "random", "common"),
  xlab = NULL,
  level = x$level,
  pch,
  col = "black",
  legend = TRUE,
  pos.legend = "topright",
  pos.tests = "topleft",
  lump.comparator = FALSE,
  text.comparator = "comparator",
  method.bias,
  text.linreg = "(Egger)",
  text.rank = "(Begg-Mazumdar)",
  text.mm = "(Thompson-Sharp)",
  sep.trts = x$sep.trts,
  nchar.trts = x$nchar.trts,
  backtransf = x$backtransf,
  digits.pval = gs("digits.pval"),
  warn.deprecated = gs("warn.deprecated"),
  linreg = FALSE,
  rank = FALSE,
  mm = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>netmeta</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>A mandatory character or numerical vector specifying
the order of treatments or list of comparators (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pooled</code></td>
<td>
<p>A character string indicating whether results for the
common (<code>"common"</code>) or random effects model (<code>"random"</code>)
should be plotted. Can be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>A label for the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>The confidence level utilised in the plot. For the
funnel plot, confidence limits are not drawn if <code>yaxis =
"size"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>The plotting symbol(s) used for individual studies
within direct comparisons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>The colour(s) used for individual studies within direct
comparisons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>A logical indicating whether a legend with
information on direct comparisons should be added to the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos.legend</code></td>
<td>
<p>The position of the legend describing plotting
symbols and colours for direct comparisons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos.tests</code></td>
<td>
<p>The position of results for test(s) of funnel plot
asymmetry.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lump.comparator</code></td>
<td>
<p>A logical indicating whether comparators
should be lumped, e.g., to specify inactive treatments.
information on direct comparisons should be added to the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.comparator</code></td>
<td>
<p>A character string used in the plot to label
the comparator if <code>lump.comparator</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.bias</code></td>
<td>
<p>A character vector indicating which test(s) for
funnel plot asymmetry to use. Admissible values are
<code>"Begg"</code>, <code>"Egger"</code>, and <code>"Thompson"</code>, can be
abbreviated. See function <code>metabias</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.linreg</code></td>
<td>
<p>A character string used in the plot to label the
Egger test for funnel plot asymmetry.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.rank</code></td>
<td>
<p>A character string used in the plot to label the
Begg test for funnel plot asymmetry.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.mm</code></td>
<td>
<p>A character string used in the plot to label the
Thompson-Sharp test for funnel plot asymmetry.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep.trts</code></td>
<td>
<p>A character used in comparison names as separator
between treatment labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nchar.trts</code></td>
<td>
<p>A numeric defining the minimum number of
characters used to create unique treatment names (see
<code>netmeta</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backtransf</code></td>
<td>
<p>A logical indicating whether results for relative
summary measures (argument <code>sm</code> equal to <code>"OR"</code>,
<code>"RR"</code>, <code>"HR"</code>, or <code>"IRR"</code>) should be back
transformed in funnel plots. If <code>backtransf = TRUE</code>, results
for <code>sm = "OR"</code> are printed as odds ratios rather than log
odds ratios, for example.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits.pval</code></td>
<td>
<p>Minimal number of significant digits for p-value
of test(s) for funnel plot asymmetry.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn.deprecated</code></td>
<td>
<p>A logical indicating whether warnings should
be printed if deprecated arguments are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linreg</code></td>
<td>
<p>Deprecated argument (replaced by <code>method.bias</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank</code></td>
<td>
<p>Deprecated argument (replaced by <code>method.bias</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mm</code></td>
<td>
<p>Deprecated argument (replaced by <code>method.bias</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional graphical arguments passed as arguments to
<code>funnel.meta</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A ‘comparison-adjusted’ funnel plot (Chaimani &amp; Salanti,
2012) is drawn in the active graphics window.
</p>
<p>Argument <code>order</code> is mandatory to determine the order of
treatments (Chaimani et al., 2013):
</p>
<p><em>“Before using this plot, investigators should order
the treatments in a meaningful way and make assumptions about how
small studies differ from large ones. For example, if they
anticipate that newer treatments are favored in small trials, then
they could name the treatments from oldest to newest so that all
comparisons refer to ‘old versus new intervention’. Other
possibilities include defining the comparisons so that all refer to
an active treatment versus placebo or sponsored versus
non-sponsored intervention.”</em>
</p>
<p>Alternatively, it is possible to only provide a single or few
treatment name(s) in argument <code>order</code> to define the
comparator(s). In this case only comparisons with this / these
treatment(s) will be considered. If argument <code>lump.comparator</code>
is <code>TRUE</code>, all comparators will be lumped into a single
group. The text for this group can be specified with argument
<code>text.comparator</code>.
</p>
<p>In the funnel plot, if <code>yaxis</code> is <code>"se"</code>, the standard
error of the treatment estimates is plotted on the y-axis which is
likely to be the best choice (Sterne &amp; Egger, 2001). Other possible
choices for <code>yaxis</code> are <code>"invvar"</code> (inverse of the
variance), <code>"invse"</code> (inverse of the standard error), and
<code>"size"</code> (study size).
</p>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>studlab</code></td>
<td>
<p>Study label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat1</code></td>
<td>
<p>Label/Number for first treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat2</code></td>
<td>
<p>Label/Number for second treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comparison</code></td>
<td>
<p>Treatment comparison.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TE</code></td>
<td>
<p>Estimate of treatment effect, e.g., log odds ratio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TE.direct</code></td>
<td>
<p>Pooled estimate from direct evidence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TE.adj</code></td>
<td>
<p>‘Comparison-adjusted’ treatment effect (TE -
TE.direct).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seTE</code></td>
<td>
<p>Standard error of treatment estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>Plotting symbol(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Colour of plotting symbol(s).</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Guido Schwarzer <a href="mailto:guido.schwarzer@uniklinik-freiburg.de">guido.schwarzer@uniklinik-freiburg.de</a>
</p>


<h3>References</h3>

<p>Chaimani A &amp; Salanti G (2012):
Using network meta-analysis to evaluate the existence of
small-study effects in a network of interventions.
<em>Research Synthesis Methods</em>,
<b>3</b>, 161–76
</p>
<p>Chaimani A, Higgins JP, Mavridis D, Spyridonos P, Salanti G (2013):
Graphical tools for network meta-analysis in STATA.
PLOS ONE,
<b>8</b>, e76654
</p>
<p>Sterne JAC &amp; Egger M (2001):
Funnel plots for detecting bias in meta-analysis: Guidelines on
choice of axis.
<em>Journal of Clinical Epidemiology</em>,
<b>54</b>, 1046–55
</p>


<h3>See Also</h3>

<p><code>netmeta</code>, <code>funnel.meta</code>,
<code>metabias</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(Senn2013)

net1 &lt;- netmeta(TE, seTE, treat1, treat2, studlab,
  data = Senn2013, sm = "MD")

# 'Comparison-adjusted' funnel plot not created as argument 'order'
# is missing
#
try(funnel(net1))

# Only show comparisons with placebo
#
funnel(net1, order = "pl")

# Add result for Egger test of funnel plot asymmetry
#
funnel(net1, order = "pl", method.bias = "Egger",
  digits.pval = 2)

# (Non-sensical) alphabetic order of treatments with placebo as
# last treatment
#
ord &lt;- c("a", "b", "me", "mi", "pi", "r", "si", "su", "v", "pl")
funnel(net1, order = ord)

# Add results for tests of funnel plot asymmetry and use different
# plotting symbols and colours
#
funnel(net1, order = ord,
  pch = rep(c(15:18, 1), 3), col = 1:3,
  method.bias = c("Egger", "Begg", "Thompson"), digits.pval = 2)

# Same results for tests of funnel plot asymmetry using reversed
# order of treatments
#
funnel(net1, order = rev(ord),
  pch = rep(c(15:18, 1), 3), col = 1:3,
  method.bias = c("Egger", "Begg", "Thompson"), digits.pval = 2)

# Calculate tests for funnel plot asymmetry
#
f1 &lt;- funnel(net1, order = ord)
#
metabias(metagen(TE.adj, seTE, data = f1))
metabias(metagen(TE.adj, seTE, data = f1), method = "Begg")
metabias(metagen(TE.adj, seTE, data = f1), method = "Thompson")

## End(Not run)

</code></pre>


</div>