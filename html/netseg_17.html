<div class="container">

<table style="width: 100%;"><tr>
<td>fold</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Folding square matrices around the diagonal</h2>

<h3>Description</h3>

<p>Fold a square matrix by collapsing lower triangle on upper triangle, or vice
versa, through addition.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fold(x, direction = c("upper", "lower"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>square numeric matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>character, one of <code>"upper"</code> or <code>"lower"</code>,
direction of folding</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, for <code>direction=="upper"</code>, the function takes the values in
the lower triangle of <code>x</code> and adds them symetrically to the values in
the upper triangle. The values on the diagonal remain unchanged. The lower
triangle is filled with 0s. If <code>direction=="lower"</code> the upper triangle
is collapsed on to the lower triangle.
</p>


<h3>Value</h3>

<p>Square matrix of the same <code>dim</code> as <code>x</code> with the lower
(upper) triangle folded onto the upper (lower) triangle.
</p>


<h3>See Also</h3>

<p><code>upper.tri()</code>, <code>lower.tri()</code>, <code>symmetrize()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">(m &lt;- matrix(1:4, 2, 2))
(f1 &lt;- fold(m))
(f2 &lt;- fold(m, "lower"))

stopifnot( all.equal(diag(m), diag(f1)) )
stopifnot( all.equal(diag(m), diag(f2)) )
stopifnot( all.equal(f1[1,2], m[2,1] + m[1,2]) )
stopifnot( all.equal(f2[2,1], m[2,1] + m[1,2]) )
</code></pre>


</div>