<div class="container">

<table style="width: 100%;"><tr>
<td>spells.overlap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Functions to compare and search spell intervals
</h2>

<h3>Description</h3>

<p>spells.overlap checks if two spells overlap at all, spells.hit searches a spell matrix for an overlapping spell
</p>


<h3>Usage</h3>

<pre><code class="language-R">spells.overlap(s1, s2)

spells.hit(needle, haystack)

search.spell(needle, haystack)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>s1</code></td>
<td>

<p>First spell for in the comparison, must be a two-element numeric vector in the form [onset,terminus]
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s2</code></td>
<td>

<p>Second spell for in the comparison, must be a two-element numeric vector in the form [onset,terminus]
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>needle</code></td>
<td>

<p>The query spell used in the search, must be a two-element numeric vector in the form [onset,terminus] 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>haystack</code></td>
<td>

<p>The spell matrix to be searched by <code>needle</code>. Must be two column numeric matrix meeting the order specifications of a spell matrix. See activity.attribute
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Spell overlap is defined as true if one of the following conditions sets is met, otherwise false:
</p>
<p>onset1 &gt;= onset2 AND onset1 &lt; terminus2
</p>
<p>terminus1 &gt; onset2 AND terminus1 &lt;= terminus2
</p>
<p>onset1 &lt;= onset2 AND terminus1 &gt;= terminus2
</p>


<h3>Value</h3>

<p><code>spells.overlap</code> returns a boolean indicating if the two spells overlap or not.  
</p>
<p><code>spells.hit</code> returns the integer row index of the first (earliest) spell in <code>haystack</code> that overlaps with <code>needle</code>, or -1 if no overlaps are found
</p>
<p><code>search.spell</code> returns a vector containing the row indices of spells in haystack that overlap with needle, or numeric(0) if none found
</p>


<h3>Author(s)</h3>

<p>skyebend@uw.edu
</p>


<h3>See Also</h3>

<p>See Also <code>activity.attribute</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">a &lt;- c(1,3)
b &lt;- c(2,5.5)
c &lt;- c(-1,10)
d &lt;- c(4,4)
spells.overlap(a,b)
spells.overlap(b,c)
spells.overlap(a,d)

spellmat &lt;- rbind(c(0,1), c(1,2), c(2,3))
spells.hit(c(1,2),spellmat)

</code></pre>


</div>