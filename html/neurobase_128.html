<div class="container">

<table style="width: 100%;"><tr>
<td>multi_overlay</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Multi-Image Plot with Overlays</h2>

<h3>Description</h3>

<p>Creates a multi-row or multi-column plot with image
slices and the potential for overlays as well.
</p>


<h3>Usage</h3>

<pre><code class="language-R">multi_overlay(
  x,
  y = NULL,
  z = NULL,
  w = 1,
  mask = NULL,
  col.x = gray(0:64/64),
  col.y = hotmetal(),
  zlim.x = NULL,
  zlim.y = NULL,
  ybreaks = NULL,
  plane = c("axial", "coronal", "sagittal"),
  xlab = "",
  ylab = "",
  axes = FALSE,
  direction = c("horizontal", "vertical"),
  par.opts = list(oma = c(0, 0, 0, 0), mar = rep(0, 4), bg = "black"),
  text = NULL,
  text.x = 0.5,
  text.y = 1.4,
  text.cex = 2.5,
  text.col = "white",
  main = NULL,
  main.col = text.col,
  main.cex = text.cex,
  NA.x = TRUE,
  NA.y = TRUE,
  pdim = NULL,
  useRaster = TRUE,
  ...
)

multi_overlay_center(x, y = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>List of images of class <code>nifti</code> or character vector of filenames</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>List of images of class <code>nifti</code> or character vector of filenames.
Same length as <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>Slice to display.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>3D volume to display if <code>x</code> has 4-D elements</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mask</code></td>
<td>
<p><code>nifti</code> image to drop empty image dimensions if wanted. 
Passed to <code>dropEmptyImageDimensions</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.x</code></td>
<td>
<p>Color to display x images</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.y</code></td>
<td>
<p>Color to display y images</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zlim.x</code></td>
<td>
<p>Limits for <code>x</code> to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zlim.y</code></td>
<td>
<p>Limits for <code>y</code> to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ybreaks</code></td>
<td>
<p>(numeric) breaks for y to passed to 
<code>image</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plane</code></td>
<td>
<p>the plane of acquisition to be displayed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Label for x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Label for y-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p>Should axes be displayed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>Should images be a row or column? Ignored if 
<code>mfrow</code> is in <code>par.opts</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par.opts</code></td>
<td>
<p>Options to pass to <code>par</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>Text to be displayed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.x</code></td>
<td>
<p>Location of text in x-domain</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.y</code></td>
<td>
<p>Location of text in y-domain</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.cex</code></td>
<td>
<p>Multiplier for text font</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.col</code></td>
<td>
<p>Color for <code>text</code> and <code>main</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Title for each plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.col</code></td>
<td>
<p>Color for <code>main</code>. Will default to <code>text.col</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.cex</code></td>
<td>
<p>Multiplier for text font. Will default to <code>text.cex</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA.x</code></td>
<td>
<p>Should <code>0</code>'s in <code>x</code> be set to <code>NA</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA.y</code></td>
<td>
<p>Should <code>0</code>'s in <code>y</code> be set to <code>NA</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdim</code></td>
<td>
<p>Pixel dimensions if passing in arrays.  Will be overridden if 
<code>x</code> is a <code>nifti</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useRaster</code></td>
<td>
<p>if <code>TRUE</code>, a bitmap raster is used to plot 
the image instead of polygons. Passed to <code>image</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to pass to <code>image</code></p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">set.seed(5)
dims = rep(10, 4)
arr = array(rnorm(prod(dims)), dim = dims)
arr[,,,c(3, 5)] = rpois(1000*2, lambda = 2)
nim = oro.nifti::nifti(arr)
mask = nim &gt; 2
add_mask = nim[,,,1] &gt; 0
imgs = img_ts_to_list(nim) 
masks = img_ts_to_list(mask) 
multi_overlay(imgs, masks)
multi_overlay(imgs, masks, 
main = "hey", direction = "vertical", plane = "coronal")
multi_overlay(imgs, masks, mask = add_mask, 
main = "hey")



## Not run: 

 if (requireNamespace("brainR", quietly = TRUE)) {
   visits = 1:3
   y = paste0("Visit_", visits, ".nii.gz")
   y = system.file(y, package = "brainR")
   y = lapply(y, readnii)

   y = lapply(y, function(r){
     pixdim(r) = c(0, rep(1, 3), rep(0, 4))
     dropImageDimension(r)
   })

   x = system.file("MNI152_T1_1mm_brain.nii.gz", 
                 package = "brainR")
   x = readnii(x)
   mask = x &gt;0
   x = lapply(visits, function(tmp){
       x
   })
   alpha = function(col, alpha = 1) {
       cols = t(col2rgb(col, alpha = FALSE)/255)
       rgb(cols, alpha = alpha)
   }
   multi_overlay(x, y, 
         col.y = alpha(hotmetal(), 0.5),
         mask = mask, 
         main = paste0("\n", "Visit ", visits),
         text = LETTERS[visits],
         text.x = 0.9,
         text.y = 0.1,
         text.cex = 3)
 }

## End(Not run)
</code></pre>


</div>