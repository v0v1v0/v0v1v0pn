<div class="container">

<table style="width: 100%;"><tr>
<td>add_4th_probs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get 4th down decision probabilities</h2>

<h3>Description</h3>

<p>Get various probabilities associated with each option on 4th downs (go
for it, kick field goal, punt).
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_4th_probs(df)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame of decisions to be computed for.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>Original data frame Data frame plus the following columns added:
</p>

<dl>
<dt>go_boost</dt>
<dd>
<p>Gain (or loss) in win prob associated with choosing to go for it (percentage points).</p>
</dd>
<dt>first_down_prob</dt>
<dd>
<p>Probability of earning a first down if going for it on 4th down.</p>
</dd>
<dt>wp_fail</dt>
<dd>
<p>Win probability in the event of a failed 4th down attempt.</p>
</dd>
<dt>wp_succeed</dt>
<dd>
<p>Win probability in the event of a successful 4th down attempt.</p>
</dd>
<dt>go_wp</dt>
<dd>
<p>Average win probability when going for it on 4th down.</p>
</dd>
<dt>fg_make_prob</dt>
<dd>
<p>Probability of making field goal.</p>
</dd>
<dt>miss_fg_wp</dt>
<dd>
<p>Win probability in the event of a missed field goal.</p>
</dd>
<dt>make_fg_wp</dt>
<dd>
<p>Win probability in the event of a made field goal.</p>
</dd>
<dt>fg_wp</dt>
<dd>
<p>Average win probability when attempting field goal.</p>
</dd>
<dt>punt_wp</dt>
<dd>
<p>Average win probability when punting.</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">
play &lt;-
  tibble::tibble(
    # things to help find the right game (use "reg" or "post")
    home_team = "GB",
    away_team = "TB",
    posteam = "GB",
    type = "post",
    season = 2020,

    # information about the situation
    qtr = 4,
    quarter_seconds_remaining = 129,
    ydstogo = 8,
    yardline_100 = 8,
    score_differential = -8,

    home_opening_kickoff = 0,
    posteam_timeouts_remaining = 3,
    defteam_timeouts_remaining = 3
  )

probs &lt;- nfl4th::add_4th_probs(play)

dplyr::glimpse(probs)

</code></pre>


</div>