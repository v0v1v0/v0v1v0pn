<div class="container">

<table style="width: 100%;"><tr>
<td>build_nflfastR_pbp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build a Complete nflfastR Data Set</h2>

<h3>Description</h3>

<p><code>build_nflfastR_pbp</code> is a convenient wrapper around 6 nflfastR functions:
</p>

<ul>
<li>
<p><code>fast_scraper()</code>
</p>
</li>
<li>
<p><code>clean_pbp()</code>
</p>
</li>
<li>
<p><code>add_qb_epa()</code>
</p>
</li>
<li>
<p><code>add_xyac()</code>
</p>
</li>
<li>
<p><code>add_xpass()</code>
</p>
</li>
<li>
<p><code>decode_player_ids()</code>
</p>
</li>
</ul>
<p>Please see either the documentation of each function or
<a href="https://www.nflfastr.com/articles/field_descriptions.html">the nflfastR Field Descriptions website</a>
to learn about the output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">build_nflfastR_pbp(
  game_ids,
  dir = getOption("nflfastR.raw_directory", default = NULL),
  ...,
  decode = TRUE,
  rules = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>game_ids</code></td>
<td>
<p>Vector of character ids or a data frame including the variable
<code>game_id</code> (see details for further information).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>Path to local directory (defaults to option "nflfastR.raw_directory")
where nflfastR searches for raw game play-by-play data.
See <code>save_raw_pbp()</code> for additional information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to the scraping functions (for internal use)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decode</code></td>
<td>
<p>If <code>TRUE</code>, the function <code>decode_player_ids()</code> will be executed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rules</code></td>
<td>
<p>If <code>FALSE</code>, printing of the header and footer in the console output will be suppressed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To load valid game_ids please use the package function <code>fast_scraper_schedules()</code>.
</p>


<h3>Value</h3>

<p>An nflfastR play-by-play data frame like it can be loaded from <a href="https://github.com/nflverse/nflverse-data">https://github.com/nflverse/nflverse-data</a>.
</p>


<h3>See Also</h3>

<p>For information on parallel processing and progress updates please
see nflfastR.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Build nflfastR pbp for the 2018 and 2019 Super Bowls
try({# to avoid CRAN test problems
build_nflfastR_pbp(c("2018_21_NE_LA", "2019_21_SF_KC"))
})

# It is also possible to directly use the
# output of `fast_scraper_schedules` as input
try({# to avoid CRAN test problems
library(dplyr, warn.conflicts = FALSE)
fast_scraper_schedules(2020) %&gt;%
  slice_tail(n = 3) %&gt;%
  build_nflfastR_pbp()
 })



</code></pre>


</div>