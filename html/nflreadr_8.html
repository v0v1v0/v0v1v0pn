<div class="container">

<table style="width: 100%;"><tr>
<td>clean_homeaway</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Clean Home/Away in dataframes into Team/Opponent dataframes</h2>

<h3>Description</h3>

<p>This function converts dataframes with "home_" and "away_" prefixed columns to "team_" and "opponent_", and doubles the rows. This makes sure that there's one row for each team (as opposed to one row for each game).
</p>


<h3>Usage</h3>

<pre><code class="language-R">clean_homeaway(dataframe, invert = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataframe</code></td>
<td>
<p>dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invert</code></td>
<td>
<p>a character vector of columns that gets inverted when referring to the away team (e.g. home spread = 1 gets converted to away_spread = -1)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a dataframe with one row per team (twice as long as the input dataframe)
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# a small example dataframe
s &lt;- data.frame(
   game_id = c("2020_20_TB_GB", "2020_20_BUF_KC", "2020_21_KC_TB"),
   game_type = c("CON", "CON", "SB"),
   away_team = c("TB", "BUF", "KC"),
   away_score = c(31L, 24L, 9L),
   home_team = c("GB", "KC", "TB"),
   home_score = c(26L, 38L, 31L),
   location = c("Home", "Home", "Neutral"),
   result = c(-5L, 14L, 22L),
   spread_line = c(3, 3, -3)
 )

clean_homeaway(s, invert = c("result","spread_line"))
</code></pre>


</div>