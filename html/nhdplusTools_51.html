<div class="container">

<table style="width: 100%;"><tr>
<td>get_UM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Navigate Upstream Mainstem</h2>

<h3>Description</h3>

<p>Traverse NHDPlus network upstream main stem
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_UM(network, comid, distance = NULL, sort = FALSE, include = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>network</code></td>
<td>
<p>data.frame NHDPlus flowlines including at a minimum:
COMID,Pathlength, LevelPathI, and Hydroseq.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comid</code></td>
<td>
<p>integer identifier to start navigating from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>
<p>numeric distance in km to limit how many COMIDs are</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>if TRUE, the returned COMID vector will be sorted in order of distance from the input COMID (nearest to farthest)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include</code></td>
<td>
<p>if TRUE, the input COMID will be included in the returned COMID vector
returned. The COMID that exceeds the distance specified is returned.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>integer vector of all COMIDs upstream of the starting COMID
along the mainstem
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(sf)

source(system.file("extdata", "sample_flines.R", package = "nhdplusTools"))

plot(sample_flines$geom)
start_COMID &lt;- 11690196
UM_COMIDs &lt;- get_UM(sample_flines, start_COMID)
plot(dplyr::filter(sample_flines, COMID %in% UM_COMIDs)$geom,
     col = "red", add = TRUE, lwd = 3)

UM_COMIDs &lt;- get_UM(sample_flines, start_COMID, distance = 50)
plot(dplyr::filter(sample_flines, COMID %in% UM_COMIDs)$geom,
     col = "blue", add = TRUE, lwd = 2)

</code></pre>


</div>