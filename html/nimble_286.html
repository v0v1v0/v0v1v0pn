<div class="container">

<table style="width: 100%;"><tr>
<td>nimbleFunction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>create a nimbleFunction</h2>

<h3>Description</h3>

<p>create a nimbleFunction from a setup function, run function, possibly other methods, and possibly inheritance via <code>contains</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">nimbleFunction(
  setup = NULL,
  run = function() {
 },
  methods = list(),
  globalSetup = NULL,
  contains = NULL,
  buildDerivs = list(),
  name = NA,
  check = getNimbleOption("checkNimbleFunction"),
  where = getNimbleFunctionEnvironment()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>setup</code></td>
<td>
<p>An optional R function definition for setup processing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>run</code></td>
<td>
<p>An optional NIMBLE function definition that executes the primary job of the nimbleFunction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>methods</code></td>
<td>
<p>An optional named list of NIMBLE function definitions for other class methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>globalSetup</code></td>
<td>
<p>For internal use only</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contains</code></td>
<td>
<p>An optional object returned from <code>nimbleFunctionVirtual</code> that defines arguments and returnTypes for <code>run</code> and/or methods, to which the current nimbleFunction must conform</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buildDerivs</code></td>
<td>
<p>A list of names of function methods for which to build derivatives capabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>An optional name used internally, for example in generated C++ code.  Usually this is left blank and NIMBLE provides a name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>Boolean indicating whether to check the run code for function calls that NIMBLE cannot compile. Checking can be turned off for all calls to <code>nimbleFunction</code> using <code>nimbleOptions(checkNimbleFunction = FALSE)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>where</code></td>
<td>
<p>An optional <code>where</code> argument passed to <code>setRefClass</code> for where the reference class definition generated for this nimbleFunction will be stored.  This is needed due to R package namespace issues but should never need to be provided by a user.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is the main function for defining nimbleFunctions.  A lot of information is provided in the NIMBLE <a href="https://r-nimble.org/html_manual/cha-welcome-nimble.html">User Manual</a>, so only a brief summary will be given here.
</p>
<p>If a <code>setup</code> function is provided, then <code>nimbleFunction</code> returns a generator: a function that when called with arguments for the setup function will execute that function and return a specialized nimbleFunction.   The <code>run</code> and other methods can be called using <code>$</code> like in other R classes, e.g. <code>nf$run()</code>. The methods can use objects that were created in or passed to the <code>setup</code> function.
</p>
<p>If no <code>setup</code> function is provided, then <code>nimbleFunction</code> returns a function that executes the <code>run</code> function.  It is not a generator in this case, and no other <code>methods</code> can be provided.
</p>
<p>If one wants a generator but does not need any setup arguments or code, <code>setup = TRUE</code> can be used.
</p>
<p>See the NIMBLE <a href="https://r-nimble.org/html_manual/cha-welcome-nimble.html">User Manual</a> for examples.
</p>
<p>For more information about the <code>contains</code> argument, see the section on nimbleFunctionLists.
</p>


<h3>Author(s)</h3>

<p>NIMBLE development team
</p>


</div>