<div class="container">

<table style="width: 100%;"><tr>
<td>nimSvd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Singular Value Decomposition of a Matrix</h2>

<h3>Description</h3>

<p>Computes singular values and, optionally, left and right singular vectors of a numeric matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">nimSvd(x, vectors = "full")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a symmetric numeric matrix (double or integer) whose spectral decomposition is to be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vectors</code></td>
<td>
<p>character that determines whether to calculate left and right singular vectors.  Can take values <code>'none'</code>, <code>'thin'</code> or <code>'full'</code>.  Defaults to <code>'full'</code>.  See ‘Details’.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Computes the singular value decomposition of a numeric matrix using the Eigen C++ template library.  
</p>
<p>The <code>vectors</code> character argument determines whether to compute no left and right singular vectors (<code>'none'</code>), thinned left and right singular vectors (<code>'thin'</code>), or full left and right singular vectors (<code>'full'</code>).  For a
matrix <code>x</code> with dimensions <code>n</code> and <code>p</code>, setting <code>vectors = 'thin'</code> will does the following (quoted from eigen website): 
In case of a rectangular n-by-p matrix, letting m be the smaller value among n and p, there are only m singular vectors; 
the remaining columns of U and V do not correspond to actual singular vectors. 
Asking for thin U or V means asking for only their m first columns to be formed. 
So U is then a n-by-m matrix, and V is then a p-by-m matrix. 
Notice that thin U and V are all you need for (least squares) solving.
</p>
<p>Setting <code>vectors = 'full'</code> will compute full matrices for U and V, so that U will be of size n-by-n, and V will be of size p-by-p.
</p>
<p>In a <code>nimbleFunction</code>, <code>svd</code> is identical to <code>nimSvd</code>. 
</p>
<p><code>returnType(svdNimbleList())</code> can be used within a <code>link{nimbleFunction}</code> to specify that the function will return a <code>nimbleList</code> generated by the <code>nimSvd</code> function.  <code>svdNimbleList()</code> can also be used to define a nested <code>nimbleList</code> element.  See the <a href="https://r-nimble.org/html_manual/cha-welcome-nimble.html">User Manual</a> for usage examples.
</p>


<h3>Value</h3>

<p>The singular value decomposition of <code>x</code> is returned as a <code>nimbleList</code> with elements:
</p>

<ul>
<li>
<p> d length m vector containing the singular values of <code>x</code>, sorted in decreasing order.
</p>
</li>
<li>
<p> v matrix with columns containing the left singular vectors of <code>x</code>, or an empty matrix if <code>vectors = 'none'</code>.
</p>
</li>
<li>
<p> u matrix with columns containing the right singular vectors of <code>x</code>, or an empty matrix if <code>vectors = 'none'</code>.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>NIMBLE development team
</p>


<h3>See Also</h3>

<p><code>nimEigen</code> for spectral decompositions.
</p>


<h3>Examples</h3>

<pre><code class="language-R"> singularValuesDemoFunction &lt;- nimbleFunction(
   setup = function(){
     demoMatrix &lt;- diag(4) + 2
   },
   run = function(){
     singularValues &lt;- svd(demoMatrix)$d
     returnType(double(1))
     return(singularValues)
 })
</code></pre>


</div>