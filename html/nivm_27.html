<div class="container">

<table style="width: 100%;"><tr>
<td>powerNicqTest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Power or Sample Size for Non-inferiority Control Quantile Test
</h2>

<h3>Description</h3>

<p>Function gives power (if n1=NULL) or sample size (if power=NULL). Assumes no ties.
</p>


<h3>Usage</h3>

<pre><code class="language-R">powerNicqTest(n1 = NULL, n2 = NULL, power = NULL, 
    sig.level = 0.025, n2.over.n1 = 1, q = 0.2, 
    delta0 = 0.1, alternative = c("less", "greater"), 
    gnull = nimDiffOR, galt = function(x){x}, 
    minn=5, maxn = 10^5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>

<p>sample size of control group, calculated if NULL
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>

<p>sample size of test group. If n1=NULL, n2 is ignored and calculated based on power and n2.over.n1. If power=NULL, then n2=ceiling(n2.over.n1*n1).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>

<p>power under galt, calculated if NULL
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>

<p>significance level
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2.over.n1</code></td>
<td>

<p>ratio of sample sizes
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>

<p>probability associated with control quantile of interest
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta0</code></td>
<td>

<p>difference in proportions at control quantile of interest
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>

<p>alternative hypothesis direction, 'less' means F2(t) less than gnull(F1(t)) for some t.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gnull</code></td>
<td>

<p>variable margin function under null hypothesis (more formally, at the boundary between the null and alternative hypotheses for the pre-specified hypotheses) 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>galt</code></td>
<td>

<p>variable margin function for which we calculate the power
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minn</code></td>
<td>

<p>minimum value for sample size for n1, input into <code>uniroot.integer</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxn</code></td>
<td>

<p>maximum value for sample size for n1, input into <code>uniroot.integer</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>extra arguments passed to <code>uniroot.integer</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function either calculates the power (if n1=NULL) or calculates n1 and n2 (if power=NULL). In the latter case,
we use <code>uniroot.integer</code> to find the smallest n1 
that gives power at least as large as the given power [with n2 defined as ceiling(n2.over.n1*n1)].
</p>


<h3>Value</h3>

<p>a <code>power.htest</code> object. A list with elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>sample size for control group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>
<p>sample size for test group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta0</code></td>
<td>
<p>F2(tau)-F1(tau), with tau defined by F1(tau)=q</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>probability associated with tau</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>significance level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>power under galt</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character description of method</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>nicqTest</code></p>


<h3>Examples</h3>

<pre><code class="language-R"># to calculate power, leave power=NULL and supply n1 and n2
powerNicqTest(n1=200,n2=300)
# or supply n1 and n2.over.n1
powerNicqTest(n1=200,n2.over.n1=3/2)
## to calculate n1 and n2, supply power
## find minimum n1 that have power greater than 0.80
## takes 13 iterations to find n1=346
## so do not run it here
#powerNicqTest(power=.80,print.steps=TRUE)
</code></pre>


</div>