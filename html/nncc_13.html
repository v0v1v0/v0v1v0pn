<div class="container">

<table style="width: 100%;"><tr>
<td>make_knn_strata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make case-control strata using k nearest neighbors (knn)</h2>

<h3>Description</h3>

<p>Select a pre-defined number of controls for each case based on calculated
distances between cases and controls.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_knn_strata(
  expvar,
  matchvars,
  df,
  rmvars = data.frame(exp_var = character(), rm_vars = character(), stringsAsFactors =
    FALSE),
  casevar = "case",
  ncntls = 250,
  metric = "gower",
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expvar</code></td>
<td>
<p>A character - the name of the exposure variable in <code>df</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matchvars</code></td>
<td>
<p>Character vector - what are the variables to match on. Note
that the function automatically excludes the the exposure variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A dataframe that contains the case-control data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmvars</code></td>
<td>
<p>A data frame that lists variables to be excluded from matching
for each exposure. For details, please see the vignette of this package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>casevar</code></td>
<td>
<p>A character - what is the name of the variable indicating case
status (1 = case, 0 = control)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncntls</code></td>
<td>
<p>An integer to specify number of controls to find for each case
(k in knn).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>A character to specify a metric for measuring distance between
a case and a control. See <code>daisy</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Suppress exposure info useful for *apply/loop implementations?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For more information, please refer to the vignette using
<code>browseVignettes("nncc")</code>.
</p>


<h3>Value</h3>

<p>A list of data frames with a <code>length</code> of number of exposures of
interest.
</p>


</div>