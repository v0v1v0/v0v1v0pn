<div class="container">

<table style="width: 100%;"><tr>
<td>distrib_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Data objects for node-based analysis
</h2>

<h3>Description</h3>

<p>Functions to collect and display data with matching species distributions and phylogenies
</p>


<h3>Usage</h3>

<pre><code class="language-R">distrib_data(commatrix, coords = NULL, proj4string_in = CRS(as.character(NA)), 
  type = c("auto", "grid", "points"), shape = NULL)
nodiv_data(phylo, commatrix, coords, proj4string_in = CRS(as.character(NA)), 
  type = c("auto", "grid", "points"), shape = NULL)
## S3 method for class 'distrib_data'
summary(object, ...)
## S3 method for class 'nodiv_data'
summary(object, ...)
## S3 method for class 'distrib_data'
plot(x, ...)
## S3 method for class 'nodiv_data'
plot(x,  ...)
## S3 method for class 'distrib_data'
identify(x,  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>phylo</code></td>
<td>

<p>A phylogeny in ape's phylo format, with tip.labels that correspond to the species names in commatrix
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>commatrix</code></td>
<td>

<p>A community matrix or data.frame of species distributions, with species as columns, sites as rows, and 0/1 denoting the absence or presence of a species in a given site. Alternatively, the functions accept a <code>data.frame</code> in the phylocom format, i.e. with three columns containing plot id, abundance (ignored) and species id. The <code>nodiv_data</code> function also accepts an object of type <code>distrib_data</code>, in which case <code>coords</code> is ignored. The <code>nodiv_data</code> function matches the species in the matrix to the tips of <code>phylo</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coords</code></td>
<td>

<p>The coordinates of all sites in the data. The input can be of a variety of different formats. Can be a <code>data.frame</code> or <code>matrix</code> with two columns. If more columns are present, the function will search for typical coordinate names such as X/Y or Lon/Lat. Alternatively, an object inheriting from <code>SpatialPoints</code> from package <code>sp</code> is accepted. The coordinates are transformed to <code>SpatialPoints</code> using the proj4string argument. Site names can be given as a third column of the data.frame, as rownames for the matrix or omitted. If site names are given, and <code>commatrix</code> has row.names, these are matched. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proj4string_in</code></td>
<td>

<p>Projection string as defined in package <code>sp</code> 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>A descriptor of whether the sites are point (community) sites, or the centres of regular grid cells. If omitted or set to <code>auto</code>, the function will guess the type from <code>coords</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>

<p>An optional shapefile to overlay plots upon.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>An object of type distrib_data or nodiv_data
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>An object of type distrib_data or nodiv_data
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Further arguments to be passed to the plotting function
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When making an object of type 'grid', the coordinates will be stored as <code>SpatialPixels</code> from package <code>sp</code>. This may result in a warning if there are rows or columns in the grid without data. The function removes these. This may affect plotting, but can otherwise be ignored.
</p>


<h3>Value</h3>

<p>The <code>distrib_data</code> function produces an object of type <code>distrib_data</code>, which has the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>coords</code></td>
<td>
<p>A <code>SpatialPointsDataFrame</code> or <code>SpatialPixelsDataFrame</code> (from <code>sp</code>) with spatial coordinates, and one column named <code>sites</code> containing the site names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comm</code></td>
<td>
<p>The community matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A character vector describing the type of data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>A list of species names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>An optional slot detailing a shapefile object for plotting the data</p>
</td>
</tr>
</table>
<p>The <code>nodiv_data</code> function produces an object of type <code>nodiv_data</code>, which contains the additional component:
</p>
<table><tr style="vertical-align: top;">
<td><code>phylo</code></td>
<td>
<p>A phylogeny of type <code>phylo</code> from package <code>ape</code></p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Michael Krabbe Borregaard
</p>


<h3>See Also</h3>

<p><code>Node_analysis</code>
</p>


</div>