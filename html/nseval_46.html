<div class="container">

<table style="width: 100%;"><tr>
<td>quo</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Quotation objects.</h2>

<h3>Description</h3>

<p><code>quo(expr, env)</code> captures <code>expr</code> without evaluating, and returns a
qutation object. A quotation has two parts: an
expression <code>expr(q)</code> with an environment <code>env(q)</code>.
</p>
<p><code>quo_(expr, env)</code> is the normally evaluating version. It
constructs a quotation given an expression and environment.
</p>
<p><code>as.quo(x)</code> converts an object into a quotation. Closures,
formulas, and single-element dots can be converted this way.
</p>
<p><code>forced_quo(x)</code> captures the expression in its argument, then
forces it, returning a quotation with the expression and value.
</p>
<p><code>forced_quo_(val)</code> makes a forced quotation given a value.
Specifically it constructs a quotation with the same object in
both the <code>expr</code> and <code>value</code> slots, except if is a
language object in which case the <code>expr</code> slot is wrapped
in <code>quote()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">quo(expr, env = arg_env_(quote(expr), environment()), force = FALSE)

quo_(expr, env, force = FALSE)

env(q)

env(q) &lt;- value

expr(q)

## S3 method for class 'quotation'
expr(q)

expr(q) &lt;- value

is.quotation(x)

is.quo(x)

as.quo(x)

forced_quo(x)

forced_quo_(val)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>An expression. For <code>quo</code> this is taken literally and
not evaluated. For <code>quo_</code> this is evaluated normally.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>An environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force</code></td>
<td>
<p>Whether to evaluate the expression and create a
forced quotation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>A quotation object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>An updated value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Any object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>val</code></td>
<td>
<p>A value.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>(Like in writing, an 'expression' may simply be a set of words, but
a 'quotation' comes bundled with a citation, to reference a context
in which it was said.)
</p>
<p>A quo is parallel to a 'promise' which is the data structure R uses
to hold lazily evaluated arguments. A quo is different from a
promise because it is an immutable data object.
</p>
<p>As a data object, a quo does not automatically evaluate like a
promise, but can be evaluated explicitly with the methods value
or force_.  A quo is immutable, so it does not mutate into a
"forced" state if you choose to evaluate it; instead <code>force_(q)</code>
returns a new object in the forced state.
</p>
<p>A function can capture its arguments as quotations using <code>arg</code>.
</p>
<p>A dots object is a list of quotations.
</p>


<h3>Value</h3>

<p><code>quo_</code> and <code>quo</code> return an object of class "quotation".
</p>
<p><code>as.quo</code> returns a quotation.
</p>


</div>